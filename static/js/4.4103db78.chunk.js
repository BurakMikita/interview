(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{238:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__21M_R",contact:"ProfileInfo_contact__2LNkH"}},239:function(e,t,s){e.exports={textarea:"ProfileDataForm_textarea__1pF3G"}},342:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1I-et",posts:"MyPosts_posts__3Uvqy"}},343:function(e,t,s){e.exports={item:"Post_item__178Hg"}},346:function(e,t,s){"use strict";s.r(t);var o=s(1),i=s(32),n=s(33),a=s(34),c=s(35),r=s(0),l=s.n(r),u=s(6),j=s(238),b=s.n(j),d=s(73),p=s(2),h=function(e){var t=Object(r.useState)(!1),s=Object(u.a)(t,2),o=s[0],i=s[1],n=Object(r.useState)(e.status),a=Object(u.a)(n,2),c=a[0],l=a[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(p.jsxs)("div",{children:[!o&&Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Status:"})," ",Object(p.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"-------"})]}),o&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(c)},value:c})})]})},f=s(102),O=s(56),x=s(239),v=s.n(x),m=s(344),g=s(99),k=function(e){var t={FullName:e.profile.fullName,lookingForAJob:!1,lookingForAJobDescription:e.profile.lookingForAJobDescription,aboutMe:e.profile.aboutMe,facebook:e.profile.contacts.facebook,website:e.profile.contacts.website,vk:e.profile.contacts.vk,twitter:e.profile.contacts.twitter,instagram:e.profile.contacts.instagram,youtube:e.profile.contacts.youtube,github:e.profile.contacts.github,mainLink:e.profile.contacts.mainLink},s=Object(O.d)({initialValues:t,onSubmit:function(t){e.onSubt({FullName:s.values.FullName,lookingForAJob:s.values.lookingForAJob,lookingForAJobDescription:s.values.lookingForAJobDescription,aboutMe:s.values.aboutMe,contacts:{facebook:s.values.facebook,website:s.values.website,vk:s.values.vk,twitter:s.values.twitter,instagram:s.values.instagram,youtube:s.values.youtube,github:s.values.github,mainLink:s.values.mainLink}}),e.goToEditMode()},validationSchema:m.a({FullName:m.b().min(2,"Mininum 2 characters").max(15,"Maximum 15 characters").required("Required!")})});return Object(p.jsxs)("form",{onSubmit:s.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",children:"save"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:e.Stop_form}),Object(p.jsx)("b",{children:"Full name"}),":",Object(p.jsx)("td",{children:Object(p.jsx)("input",{value:s.values.FullName,onChange:s.handleChange,type:"text",name:"FullName"})}),s.errors.FullName&&s.touched.FullName&&Object(p.jsx)("p",{children:s.errors.FullName})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Lookin for a job"}),":",Object(p.jsxs)("td",{children:[" ",Object(p.jsx)("input",{value:s.values.lookingForAJob,onChange:s.handleChange,type:"checkbox",name:"lookingForAJob"})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"My professional skills"}),":",Object(p.jsx)("td",{children:Object(p.jsx)("textarea",{value:s.values.lookingForAJobDescription,onChange:s.handleChange,type:"textarea",name:"lookingForAJobDescription"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me"}),":",Object(p.jsx)("td",{children:Object(p.jsx)("textarea",{className:v.a.textarea,value:s.values.aboutMe,onChange:s.handleChange,type:"textarea",name:"aboutMe"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts"}),":",Object.keys(e.profile.contacts).map((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:[e,":"]})," ",Object(p.jsx)("td",{children:Object(p.jsx)("input",{onChange:s.handleChange,value:s.values.key,type:"text",name:e})})]})}))]})]})},y=function(e){return Object(p.jsxs)("div",{children:[e.isOwner&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:e.goToEditMode,children:"edit"})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Full name"}),":",e.profile.fullName]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Lookin for a job"}),":  ",e.profile.lookingForAJob?"yes":"no"]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"My professional skills"}),":  ",e.profile.lookingForAJobDescription]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"About me"}),": ",e.profile.aboutMe]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Contacts"}),":  ",Object.keys(e.profile.contacts).map((function(t){return Object(p.jsx)(P,{contactTitle:t,contactValue:e.profile.contacts[t]},t)}))]})]})},P=function(e){var t=e.contactTitle,s=e.contactValue;return Object(p.jsxs)("div",{className:b.a.contact,children:[Object(p.jsx)("b",{children:t}),": ",s]})},F=function(e){var t=Object(r.useState)(!1),s=Object(u.a)(t,2),o=s[0],i=s[1];if(!e.profile)return Object(p.jsx)(d.a,{});return e.isFetchingSave?Object(p.jsx)(d.a,{}):Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(p.jsx)("img",{src:e.profile.photos.large||f.a}),e.isOwner&&Object(p.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),o?Object(p.jsx)(k,{profile:e.profile,onSubt:function(t){e.saveProfile(t).then((function(){i(!1)}))}}):Object(p.jsx)(y,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){i(!0)}}),Object(p.jsx)(h,{status:e.status,updateStatus:e.updateStatus})]})})},S=s(18),C=s(342),A=s.n(C),_=s(343),M=s.n(_),N=function(e){return Object(p.jsxs)("div",{className:M.a.item,children:[Object(p.jsx)("img",{src:"https://i.pinimg.com/originals/9c/c6/03/9cc6035f13a665dd82c57100f2b70c83.png"}),e.message,Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"like"})," ",e.likesCount]})]})},w=function(e){var t=Object(O.d)({initialValues:{textarea:""},onSubmit:function(s){e.onAddPost(t.values.textarea)}});return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(p.jsx)("div",{children:Object(p.jsx)("input",{value:t.values.textarea,onChange:t.handleChange,type:"textarea",name:"textarea",placeholder:"textarea"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",children:"Send"})})]})})},J=function(e){var t=Object(S.a)(e.posts).reverse().map((function(e){return Object(p.jsx)(N,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(p.jsxs)("div",{className:A.a.postsBlock,children:[Object(p.jsx)("h3",{children:"My posts"}),Object(p.jsx)("div",{children:Object(p.jsx)(w,{onAddPost:function(t){e.addPost(t)}})}),Object(p.jsx)("div",{className:A.a.posts,children:t})]})},I=s(16),D=Object(I.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:g.a.addPostActionCreator})(J),U=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(F,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,saveProfile:e.saveProfile,updateStatus:e.updateStatus}),Object(p.jsx)(D,{})]})},B=s(15),L=s(57),T=function(e){Object(a.a)(s,e);var t=Object(c.a)(s);function s(e){return Object(i.a)(this,s),t.call(this,e)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should exists in URI params or in state ('authorizedUserId')")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(p.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(L.c)(Object(I.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:g.d,getStatus:g.c,updateStatus:g.g,savePhoto:g.e,saveProfile:g.f}),B.h)(T)}}]);
//# sourceMappingURL=4.4103db78.chunk.js.map