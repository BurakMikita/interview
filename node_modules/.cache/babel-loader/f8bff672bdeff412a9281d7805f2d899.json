{"ast":null,"code":"import _objectSpread from\"D:/REact/01_first/interview/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"D:/REact/01_first/interview/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"isAuth\"];import React from\"react\";import{Redirect}from\"react-router-dom\";import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";var mapStateToPropsForRedirect=function mapStateToPropsForRedirect(state){return{isAuth:state.auth.isAuth};};export function withAuthRedirect(WrappedComponent){var RedirectComponent=function RedirectComponent(props){var isAuth=props.isAuth,restProps=_objectWithoutProperties(props,_excluded);if(!isAuth)return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});return/*#__PURE__*/_jsx(WrappedComponent,_objectSpread({},restProps));};var ConnectedAuthRedirectComponent=connect(mapStateToPropsForRedirect,{})(RedirectComponent);return ConnectedAuthRedirectComponent;}","map":{"version":3,"sources":["D:/REact/01_first/interview/src/hoc/withAuthRedirect.tsx"],"names":["React","Redirect","connect","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","WrappedComponent","RedirectComponent","props","restProps","ConnectedAuthRedirectComponent"],"mappings":"wQAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,OAAQC,OAAR,KAAsB,aAAtB,C,2CAGA,GAAIC,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,KAAD,QAA0B,CACvDC,MAAM,CAAED,KAAK,CAACE,IAAN,CAAWD,MADoC,CAA1B,EAAjC,CAUA,MAAO,SAASE,CAAAA,gBAAT,CAA+BC,gBAA/B,CAA2E,CAE9E,GAAMC,CAAAA,iBAA6D,CAAG,QAAhEA,CAAAA,iBAAgE,CAACC,KAAD,CAAW,CAC7E,GAAKL,CAAAA,MAAL,CAA6BK,KAA7B,CAAKL,MAAL,CAAgBM,SAAhB,0BAA6BD,KAA7B,YAEA,GAAI,CAACL,MAAL,CAAa,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CAEb,mBAAO,KAAC,gBAAD,kBAAsBM,SAAtB,EAAP,CACH,CAND,CAQA,GAAIC,CAAAA,8BAA8B,CAAGV,OAAO,CACxCC,0BADwC,CACZ,EADY,CAAP,CAEpCM,iBAFoC,CAArC,CAIA,MAAOG,CAAAA,8BAAP,CACH","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from '../redux/redux-store';\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n} as MapPropsType);\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean\r\n}\r\ntype DispatchPropsType = {\r\n}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to='/login'/>\r\n\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect<MapPropsType, DispatchPropsType, WCP, AppStateType>(\r\n        mapStateToPropsForRedirect, {})\r\n    (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}