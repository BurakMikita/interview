{"ast":null,"code":"import _slicedToArray from\"D:/REact/01_first/interview/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import s from'./ProfileInfo.module.css';import Preloader from\"../../common/Preloader/Preloader\";import ProfileStatusWithHooks from\"./ProfileStatusWithHooks\";import userPhoto from\"../../../assets/images/user.png\";import ProfileDataForm from\"./ProfileDataForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileInfo=function ProfileInfo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];if(!props.profile){return/*#__PURE__*/_jsx(Preloader,{});}var onMainPhotoSelected=function onMainPhotoSelected(e){if(e.target.files.length){props.savePhoto(e.target.files[0]);}};var onSubmit=function onSubmit(formData){props.saveProfile(formData).then(function(){setEditMode(false);});};return props.isFetchingSave?/*#__PURE__*/_jsx(Preloader,{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:s.descriptionBlock,children:[/*#__PURE__*/_jsx(\"img\",{src:props.profile.photos.large||userPhoto}),props.isOwner&&/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onMainPhotoSelected}),editMode?/*#__PURE__*/_jsx(ProfileDataForm,{profile:props.profile,onSubt:onSubmit}):/*#__PURE__*/_jsx(ProfileData,{profile:props.profile,isOwner:props.isOwner,goToEditMode:function goToEditMode(){setEditMode(true);}}),/*#__PURE__*/_jsx(ProfileStatusWithHooks,{status:props.status,updateStatus:props.updateStatus})]})});};var ProfileData=function ProfileData(props){return/*#__PURE__*/_jsxs(\"div\",{children:[props.isOwner&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:props.goToEditMode,children:\"edit\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Full name\"}),\":\",props.profile.fullName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Lookin for a job\"}),\":  \",props.profile.lookingForAJob?\"yes\":\"no\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"My professional skills\"}),\":  \",props.profile.lookingForAJobDescription]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"About me\"}),\": \",props.profile.aboutMe]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Contacts\"}),\":  \",Object.keys(props.profile.contacts).map(function(key){return/*#__PURE__*/_jsx(Contact,{contactTitle:key,contactValue:props.profile.contacts[key]},key);})]})]});};var Contact=function Contact(_ref){var contactTitle=_ref.contactTitle,contactValue=_ref.contactValue;return/*#__PURE__*/_jsxs(\"div\",{className:s.contact,children:[/*#__PURE__*/_jsx(\"b\",{children:contactTitle}),\": \",contactValue]});};export default ProfileInfo;","map":{"version":3,"sources":["D:/REact/01_first/interview/src/components/Profile/ProfileInfo/ProfileInfo.jsx"],"names":["React","useState","s","Preloader","ProfileStatusWithHooks","userPhoto","ProfileDataForm","ProfileInfo","props","editMode","setEditMode","profile","onMainPhotoSelected","e","target","files","length","savePhoto","onSubmit","formData","saveProfile","then","isFetchingSave","descriptionBlock","photos","large","isOwner","status","updateStatus","ProfileData","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","map","key","Contact","contactTitle","contactValue","contact"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e)=>{\r\n        if (e.target.files.length){\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n    const  onSubmit = (formData)=>{\r\n        props.saveProfile(formData)\r\n            .then(\r\n            () => {\r\n                setEditMode(false);\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        props.isFetchingSave ? <Preloader/> :\r\n            <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.large || userPhoto }  />\r\n                {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\r\n                {editMode\r\n                    ? <ProfileDataForm profile={props.profile} onSubt={onSubmit} />\r\n                    : <ProfileData profile={props.profile} isOwner={props.isOwner} goToEditMode={()=>{setEditMode(true)}}/>}\r\n\r\n\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData =(props)=>{\r\n  return  <div>\r\n      {props.isOwner && <div><button onClick={props.goToEditMode}>edit</button></div>}\r\n    <div>\r\n        <b>Full name</b>:\r\n        {props.profile.fullName }\r\n    </div>\r\n    <div>\r\n        <b>Lookin for a job</b>:  {props.profile.lookingForAJob ? \"yes\": \"no\"}\r\n    </div>\r\n    <div>\r\n        <b>My professional skills</b>:  {props.profile.lookingForAJobDescription}\r\n    </div>\r\n      <div>\r\n          <b>About me</b>: {props.profile.aboutMe}\r\n      </div>\r\n    <div>\r\n        <b>Contacts</b>:  {Object.keys(props.profile.contacts).map(key=>{\r\n        return <Contact key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n    })  }\r\n    </div>\r\n  </div>\r\n}\r\n\r\n\r\nconst Contact = ({contactTitle, contactValue})=>{\r\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;"]},"metadata":{},"sourceType":"module"}