{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[0],{102:function(e,t,n){\"use strict\";t.a=n.p+\"static/media/user.96e310a6.png\"},111:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var r=n(18),c=n(1),a={dialogs:[{id:1,name:\"Dimych\"},{id:2,name:\"Andrew\"},{id:3,name:\"Sveta\"},{id:4,name:\"Sasha\"},{id:5,name:\"Viktor\"},{id:6,name:\"Valera\"}],messages:[{id:1,message:\"Hi\"},{id:2,message:\"How is your it-kamasutra?\"},{id:3,message:\"Yo\"},{id:4,message:\"Yo\"},{id:5,message:\"Yo\"}]},s={sendMessage:function(e){return{type:\"SN/DIALOGS/SEND_MESSAGE\",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SN/DIALOGS/SEND_MESSAGE\":var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},112:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return P})),n.d(t,\"d\",(function(){return U})),n.d(t,\"b\",(function(){return N}));var r=n(10),c=n.n(r),a=n(14),s=n(18),i=n(1),u={\"messages-received\":[],\"status-changed\":[]},o=null,l=function(){h(\"pending\"),setTimeout(p,3e3)},d=function(e){var t=JSON.parse(e.data);u[\"messages-received\"].forEach((function(e){return e(t)}))},j=function(){h(\"ready\")},f=function(){h(\"error\"),console.error(\"REFRESH PAGE\")},b=function(){var e,t,n,r;null===(e=o)||void 0===e||e.removeEventListener(\"close\",l),null===(t=o)||void 0===t||t.removeEventListener(\"message\",d),null===(n=o)||void 0===n||n.removeEventListener(\"open\",j),null===(r=o)||void 0===r||r.removeEventListener(\"error\",f)},h=function(e){u[\"status-changed\"].forEach((function(t){return t(e)}))};function p(){var e;b(),null===(e=o)||void 0===e||e.close(),o=new WebSocket(\"wss://social-network.samuraijs.com/handlers/ChatHandler.ashx\"),h(\"pending\"),o.addEventListener(\"close\",l),o.addEventListener(\"message\",d),o.addEventListener(\"open\",j),o.addEventListener(\"error\",f)}var O=function(){p()},g=function(){var e;u[\"messages-received\"]=[],u[\"status-changed\"]=[],b(),null===(e=o)||void 0===e||e.close()},x=function(e,t){return u[e].push(t),function(){u[e]=u[e].filter((function(e){return e!==t}))}},m=function(e,t){u[e]=u[e].filter((function(e){return e!==t}))},S=function(e){var t;null===(t=o)||void 0===t||t.send(e)},v=n(186),E={messages:[],status:\"pending\"},y=function(e){return{type:\"SN/chat/MESSAGES_RECEVIED\",payload:{messages:e}}},w=function(e){return{type:\"SN/chat/STATUS_CHANGED\",payload:{status:e}}},C=null,_=function(e){return null===C&&(C=function(t){e(y(t))}),C},T=null,I=function(e){return null===T&&(T=function(t){e(w(t))}),T},P=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(),x(\"messages-received\",_(t)),x(\"status-changed\",I(t));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(\"messages-received\",_(t)),x(\"status-changed\",I(t)),g();case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(e);case 1:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SN/chat/MESSAGES_RECEVIED\":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.messages.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Object(v.a)()})})))).filter((function(e,t,n){return t>=n.length-100}))});case\"SN/chat/STATUS_CHANGED\":return Object(i.a)(Object(i.a)({},e),{},{status:t.payload.status});default:return e}}},117:function(e,t,n){e.exports={userPhoto:\"users_userPhoto__2Ibmq\",selectedPage:\"users_selectedPage__2B7XU\"}},146:function(e,t,n){},147:function(e,t,n){},180:function(e,t,n){\"use strict\";n.r(t);var r=n(0),c=n.n(r),a=n(28),s=n.n(a),i=(n(146),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,345)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))}),u=n(32),o=n(33),l=n(34),d=n(35),j=(n(147),n(27)),f=n(15),b=n(16),h=n(73),p=n(114),O=Object(p.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),g=function(e){return e.usersPage.pageSize},x=function(e){return e.usersPage.totalUsersCount},m=function(e){return e.usersPage.currentPage},S=function(e){return e.usersPage.isFetching},v=function(e){return e.usersPage.followingInProgress},E=function(e){return e.usersPage.filter},y=n(1),w=n(8),C=n(6),_=n(89),T=n.n(_),I=n(4),P=n.n(I),U=n(2),N=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,a=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,u=Math.ceil(t/n),o=[],l=1;l<=u;l++)o.push(l);var d=Math.ceil(u/i),j=Object(r.useState)(1),f=Object(C.a)(j,2),b=f[0],h=f[1],p=(b-1)*i+1,O=b*i;return Object(U.jsxs)(\"div\",{className:T.a.paginator,children:[b>1&&Object(U.jsx)(\"button\",{onClick:function(){h(b-1)},children:\"PREV\"}),o.filter((function(e){return e>=p&&e<=O})).map((function(e){return Object(U.jsx)(\"span\",{className:P()(Object(w.a)({},T.a.selectedPage,c===e),T.a.pageNumber),onClick:function(t){a(e)},children:e},e)})),d>b&&Object(U.jsx)(\"button\",{onClick:function(){h(b+1)},children:\"NEXT\"})]})},R=n(117),A=n.n(R),k=n(102),L=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,c=e.follow;return Object(U.jsxs)(\"div\",{children:[Object(U.jsxs)(\"span\",{children:[Object(U.jsx)(\"div\",{children:Object(U.jsx)(j.c,{to:\"/profile/\"+t.id,children:Object(U.jsx)(\"img\",{src:null!=t.photos.small?t.photos.small:k.a,className:A.a.userPhoto})})}),Object(U.jsx)(\"div\",{children:t.followed?Object(U.jsx)(\"button\",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:\"Unfollow\"}):Object(U.jsx)(\"button\",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:\"Follow\"})})]}),Object(U.jsxs)(\"span\",{children:[Object(U.jsxs)(\"span\",{children:[Object(U.jsx)(\"div\",{children:t.name}),Object(U.jsx)(\"div\",{children:t.status})]}),Object(U.jsxs)(\"span\",{children:[Object(U.jsx)(\"div\",{children:\"user.location.country\"}),Object(U.jsx)(\"div\",{children:\"user.location.city\"})]})]})]})},F=n(56),G=function(e){return{}},D=c.a.memo((function(e){var t=Object(b.d)(E);return Object(U.jsx)(\"div\",{children:Object(U.jsx)(F.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:G,onSubmit:function(t,n){var r=n.setSubmitting,c={term:t.term,friend:\"null\"===t.friend?null:\"true\"===t.friend};e.onFilterChanged(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(U.jsxs)(F.b,{children:[Object(U.jsx)(F.a,{type:\"text\",name:\"term\"}),Object(U.jsxs)(F.a,{name:\"friend\",as:\"select\",children:[Object(U.jsx)(\"option\",{value:\"null\",children:\"All\"}),Object(U.jsx)(\"option\",{value:\"true\",children:\"Only followed\"}),Object(U.jsx)(\"option\",{value:\"false\",children:\"Only unfollowed\"})]}),Object(U.jsx)(\"button\",{type:\"submit\",disabled:t,children:\"Find\"})]})}})})})),M=n(10),H=n.n(M),z=n(14),V=n(18),W=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(y.a)(Object(y.a)({},e),r):e}))},B=n(20),Y={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return B.a.get(\"users?page=\".concat(e,\"&count=\").concat(t,\"&term=\").concat(n)+(null===r?\"\":\"&friend=\".concat(r))).then((function(e){return e.data}))},follow:function(e){return B.a.post(\"follow/\".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return B.a.delete(\"follow/\".concat(e)).then((function(e){return e.data}))}},q={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],filter:{term:\"\",friend:null}},X=function(e){return{type:\"SN/USERS/SET_USERS\",users:e}},J=function(e){return{type:\"SN/USERS/SET_CURRENT_PAGE\",currentPage:e}},K=function(e){return{type:\"SN/USERS/SET_FILTER\",payload:e}},Z=function(e){return{type:\"SN/USERS/SET_TOTAL_USERS_COUNT\",count:e}},Q=function(e){return{type:\"SN/USERS/TOGGLE_IS_FETCHING\",isFetching:e}},$=function(e,t,n){return function(){var r=Object(z.a)(H.a.mark((function r(c,a){var s;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(Q(!0)),c(J(e)),c(K(n)),r.next=5,Y.getUsers(e,t,n.term,n.friend);case 5:s=r.sent,c(Q(!1)),c(X(s.items)),c(Z(s.totalCount));case 9:case\"end\":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SN/USERS/FOLLOW\":return Object(y.a)(Object(y.a)({},e),{},{users:W(e.users,t.userId,\"id\",{followed:!0})});case\"SN/USERS/UNFOLLOW\":return Object(y.a)(Object(y.a)({},e),{},{users:W(e.users,t.userId,\"id\",{followed:!1})});case\"SN/USERS/SET_USERS\":return Object(y.a)(Object(y.a)({},e),{},{users:t.users});case\"SN/USERS/SET_CURRENT_PAGE\":return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.currentPage});case\"SN/USERS/SET_TOTAL_USERS_COUNT\":return Object(y.a)(Object(y.a)({},e),{},{totalUsersCount:t.count});case\"SN/USERS/TOGGLE_IS_FETCHING\":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case\"SN/USERS/SET_FILTER\":return Object(y.a)(Object(y.a)({},e),{},{filter:t.payload});case\"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS\":return Object(y.a)(Object(y.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(V.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},te=n(97),ne=function(e){var t=Object(b.d)(O),n=Object(b.d)(x),c=Object(b.d)(m),a=Object(b.d)(g),s=Object(b.d)(E),i=Object(b.d)(v),u=Object(b.c)(),o=Object(f.g)();Object(r.useEffect)((function(){var e=te.parse(o.location.search.substr(1)),t=c,n=s;switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(y.a)(Object(y.a)({},n),{},{term:e.term})),e.friend){case\"null\":n=Object(y.a)(Object(y.a)({},n),{},{friend:null});break;case\"true\":n=Object(y.a)(Object(y.a)({},n),{},{friend:!0});break;case\"false\":n=Object(y.a)(Object(y.a)({},n),{},{friend:!1})}u($(t,a,n))}),[]),Object(r.useEffect)((function(){var e={};s.term&&(e.term=s.term),null!==s.friend&&(e.friend=String(s.friend)),1!==c&&(e.page=String(c)),o.push({pathname:\"/users\",search:te.stringify(e)})}),[s,c]);var l=function e(t){u(e(t))},d=function e(t){u(e(t))};return Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(D,{onFilterChanged:function(e){u($(1,a,e))}}),Object(U.jsx)(N,{currentPage:c,onPageChanged:function(e){u($(e,a,s))},totalItemsCount:n,pageSize:a}),Object(U.jsx)(\"div\",{children:t.map((function(e){return Object(U.jsx)(L,{user:e,followingInProgress:i,unfollow:d,follow:l},e.id)}))})]})},re=function(e){var t=Object(b.d)(S);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(\"h2\",{children:e.pageTitle}),t?Object(U.jsx)(h.a,{}):null,Object(U.jsx)(ne,{})]})},ce=function(){return B.a.get(\"auth/me\").then((function(e){return e.data}))},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return B.a.post(\"auth/login\",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},se=function(){return B.a.delete(\"auth/login\")},ie=function(){return B.a.get(\"security/get-captcha-url\").then((function(e){return e.data}))},ue={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},oe=function(e,t,n,r){return{type:\"SN/auth/SET_USER_DATA\",payload:{userId:e,email:t,login:n,isAuth:r}}},le=function(e){return{type:\"SN/auth/GET_CAPTCHA_URL_SUCCESS\",payload:{captchaUrl:e}}},de=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n,r,c,a,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:(n=e.sent).resultCode===B.b.Success&&(r=n.data,c=r.id,a=r.login,s=r.email,t(oe(c,s,a,!0)));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(){return function(){var e=Object(z.a)(H.a.mark((function e(t){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:n=e.sent,r=n.url,t(le(r));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SN/auth/SET_USER_DATA\":case\"SN/auth/GET_CAPTCHA_URL_SUCCESS\":return Object(y.a)(Object(y.a)({},e),t.payload);default:return e}},be=n(57),he=n(99),pe=n(111),Oe={},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;return e},xe=n(122),me={initialized:!1,errorText:null},Se=function(){return{type:\"INITIALIZED_SUCCESS\"}},ve=function(e){return{type:\"ERROR_SUCCESS\",textError:e}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"INITIALIZED_SUCCESS\":return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});case\"ERROR_SUCCESS\":return Object(y.a)(Object(y.a)({},e),{},{errorText:t.textError});default:return e}},ye=n(112),we=Object(be.b)({profilePage:he.b,dialogsPage:pe.b,sidebar:ge,usersPage:ee,auth:fe,app:Ee,chat:ye.a}),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.c,_e=Object(be.d)(we,Ce(Object(be.a)(xe.a)));window.__store__=_e;var Te=_e,Ie=Object(b.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var c=Object(z.a)(H.a.mark((function c(a){var s;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ae(e,t,n,r);case 2:(s=c.sent).resultCode===B.b.Success?a(de()):s.resultCode===B.c.CaptchaIsRequired&&a(je());case 4:case\"end\":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=Object(F.d)({initialValues:{email:\"\",password:\"\",rememberMe:!1,captcha:\"\"},onSubmit:function(n){e.login(t.values.email,t.values.password,t.values.rememberMe,t.values.captcha)}});return e.isAuth?Object(U.jsx)(f.a,{to:\"/profile\"}):Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"h1\",{children:\"LOGIN\"}),Object(U.jsxs)(\"form\",{onSubmit:t.handleSubmit,children:[Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"input\",{value:t.values.email,onChange:t.handleChange,type:\"email\",name:\"email\",placeholder:\"Email\"}),Object(U.jsx)(\"label\",{children:\"login\"})]}),Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"input\",{value:t.values.password,onChange:t.handleChange,type:\"password\",name:\"password\",placeholder:\"Password\"}),Object(U.jsx)(\"label\",{children:\"password\"})]}),Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"input\",{value:t.values.rememberMe,onChange:t.handleChange,name:\"rememberMe\",type:\"checkbox\"}),\"remember me\"]}),Object(U.jsx)(\"img\",{src:e.captchaUrl}),Object(U.jsxs)(\"div\",{children:[Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"input\",{value:t.values.captcha,onChange:t.handleChange,name:\"captcha\",type:\"text\"}),\"captcha\"]}),Object(U.jsx)(\"button\",{type:\"submit\",children:\"Login\"})]})]})]})}));function Pe(e){return function(t){return Object(U.jsx)(c.a.Suspense,{fallback:Object(U.jsx)(\"div\",{children:\"loading...\"}),children:Object(U.jsx)(e,Object(y.a)({},t))})}}var Ue=function(e){return Object(U.jsxs)(\"div\",{children:[Object(U.jsx)(\"h3\",{children:e.errorText}),Object(U.jsx)(\"p\",{children:\"We are sorry but the page you are looking for does not exist.\"})]})},Ne=(n(178),n(98)),Re=n(183),Ae=n(184),ke=n(189),Le=n(190),Fe=n(191),Ge=n(187),De=n(188),Me=n(185),He=n(90),ze=function(e){return e.auth.isAuth},Ve=function(e){return e.auth.login},We=function(e){var t=Object(b.d)(ze),n=Object(b.d)(Ve),r=Object(b.c)(),c=Re.a.Header;return Object(U.jsx)(c,{className:\"header\",children:Object(U.jsxs)(Ge.a,{children:[Object(U.jsxs)(De.a,{span:18,children:[\" \",Object(U.jsx)(Ne.a,{theme:\"dark\",mode:\"horizontal\",defaultSelectedKeys:[\"2\"],children:Object(U.jsx)(Ne.a.Item,{children:Object(U.jsx)(j.b,{to:\"/users\",children:\"\\u041f\\u0440\\u043e\\u0433\\u0440\\u0430\\u043c\\u043c\\u0441\\u0438\\u0442\\u044b\"})},\"1\")})]}),t?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(De.a,{span:1,children:Object(U.jsx)(Me.a,{alt:n||\"\",style:{backgroundColor:\"#87d068\"},icon:Object(U.jsx)(ke.a,{})})}),Object(U.jsxs)(De.a,{span:5,children:[Object(U.jsx)(He.a,{onClick:function(){r(function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:0===e.sent.data.resultCode&&t(oe(null,null,null,!1));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:\"Log out\"}),\" \"]})]}):Object(U.jsxs)(De.a,{span:6,children:[Object(U.jsx)(j.b,{to:\"/login\",children:\"Login\"}),\"  \"]})]})})},Be=Ne.a.SubMenu,Ye=Re.a.Content,qe=Re.a.Footer,Xe=Re.a.Sider,Je=c.a.lazy((function(){return n.e(5).then(n.bind(null,347))})),Ke=c.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,346))})),Ze=c.a.lazy((function(){return n.e(6).then(n.bind(null,348))})),Qe=Pe(Je),$e=Pe(Ke),et=Pe(Ze),tt=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).catchAllUnhandledErrors=function(t){e.props.error(\"\".concat(t.reason))},e}return Object(o.a)(n,[{key:\"componentDidMount\",value:function(){this.props.initializeApp(),window.addEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors)}},{key:\"render\",value:function(){return this.props.initialized?null!=this.props.errorText?Object(U.jsx)(Ue,{errorText:this.props.errorText}):Object(U.jsxs)(Re.a,{children:[Object(U.jsx)(We,{}),Object(U.jsxs)(Ye,{style:{padding:\"0 50px\"},children:[Object(U.jsxs)(Ae.a,{style:{margin:\"16px 0\"},children:[Object(U.jsx)(Ae.a.Item,{children:\"Home\"}),Object(U.jsx)(Ae.a.Item,{children:\"List\"}),Object(U.jsx)(Ae.a.Item,{children:\"App\"})]}),Object(U.jsxs)(Re.a,{className:\"site-layout-background\",style:{padding:\"24px 0\"},children:[Object(U.jsx)(Xe,{className:\"site-layout-background\",width:200,children:Object(U.jsxs)(Ne.a,{mode:\"inline\",style:{height:\"100%\"},children:[Object(U.jsxs)(Be,{icon:Object(U.jsx)(ke.a,{}),title:\"My profile\",children:[Object(U.jsx)(Ne.a.Item,{children:Object(U.jsx)(j.b,{to:\"/profile\",children:\"Profile\"})},\"1\"),Object(U.jsx)(Ne.a.Item,{children:Object(U.jsx)(j.b,{to:\"/dialogs\",children:\"Messages\"})},\"2\"),Object(U.jsx)(Ne.a.Item,{children:Object(U.jsx)(j.b,{to:\"/chat\",children:\"Chat\"})},\"3\"),Object(U.jsx)(Ne.a.Item,{children:\"option4\"},\"4\")]},\"sub1\"),Object(U.jsxs)(Be,{icon:Object(U.jsx)(Le.a,{}),title:\"Users\",children:[Object(U.jsx)(Ne.a.Item,{children:Object(U.jsx)(j.b,{to:\"/users\",children:\"Users\"})},\"5\"),Object(U.jsx)(Ne.a.Item,{children:\"option6\"},\"6\"),Object(U.jsx)(Ne.a.Item,{children:\"option7\"},\"7\"),Object(U.jsx)(Ne.a.Item,{children:\"option8\"},\"8\")]},\"sub2\"),Object(U.jsxs)(Be,{icon:Object(U.jsx)(Fe.a,{}),title:\"subnav 3\",children:[Object(U.jsx)(Ne.a.Item,{children:\"option9\"},\"9\"),Object(U.jsx)(Ne.a.Item,{children:\"option10\"},\"10\"),Object(U.jsx)(Ne.a.Item,{children:\"option11\"},\"11\"),Object(U.jsx)(Ne.a.Item,{children:\"option12\"},\"12\")]},\"sub3\")]})}),Object(U.jsx)(Ye,{style:{padding:\"0 24px\",minHeight:280},children:Object(U.jsxs)(f.d,{children:[Object(U.jsx)(f.b,{exact:!0,path:\"/\",render:function(){return Object(U.jsx)(f.a,{to:\"/profile\"})}}),Object(U.jsx)(f.b,{path:\"/dialogs\",render:function(){return Object(U.jsx)(Qe,{})}}),Object(U.jsx)(f.b,{path:\"/profile/:userId?\",render:function(){return Object(U.jsx)($e,{})}}),Object(U.jsx)(f.b,{path:\"/users\",render:function(){return Object(U.jsx)(re,{pageTitle:\"\\u0421\\u0430\\u043c\\u0443\\u0440\\u0430\\u0438\"})}}),Object(U.jsx)(f.b,{path:\"/login\",render:function(){return Object(U.jsx)(Ie,{})}}),Object(U.jsx)(f.b,{path:\"/chat\",render:function(){return Object(U.jsx)(et,{})}}),Object(U.jsx)(f.b,{path:\"*\",render:function(){return Object(U.jsx)(\"div\",{children:\"404 NOT FOUND\"})}})]})})]})]}),Object(U.jsx)(qe,{style:{textAlign:\"center\"},children:\"\\u0414\\u043e\\u0431\\u0440\\u043e \\u043f\\u043e\\u0436\\u0430\\u043b\\u043e\\u0442\\u044c 2021\"})]}):Object(U.jsx)(h.a,{})}}]),n}(r.Component),nt=Object(be.c)(f.h,Object(b.b)((function(e){return{initialized:e.app.initialized,errorText:e.app.errorText}}),{initializeApp:function(){return function(e){var t=e(de());Promise.all([t]).then((function(){e(Se())}))}},error:function(e){return function(t){t(ve(e));setTimeout((function(){return t(ve(null))}),2e3)}}}))(tt),rt=function(){return Object(U.jsx)(j.a,{children:Object(U.jsx)(b.a,{store:Te,children:Object(U.jsx)(nt,{})})})};s.a.render(Object(U.jsx)(rt,{}),document.getElementById(\"root\")),i()},20:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"b\",(function(){return r})),n.d(t,\"c\",(function(){return c}));var r,c,a=n(121),s=n.n(a).a.create({withCredentials:!0,baseURL:\"https://social-network.samuraijs.com/api/1.0/\",headers:{\"API-KEY\":\"fe43f864-7186-466f-88ee-13b781ec408f\"}});!function(e){e[e.Success=0]=\"Success\",e[e.Error=1]=\"Error\"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]=\"CaptchaIsRequired\"}(c||(c={}))},73:function(e,t,n){\"use strict\";n(0);var r=n.p+\"static/media/preloader.5788b05c.svg\",c=n(2);t.a=function(){return Object(c.jsx)(\"div\",{style:{backgroundColor:\"white\"},children:Object(c.jsx)(\"img\",{src:r})})}},89:function(e,t,n){e.exports={paginator:\"Paginator_paginator__3WY-C\",pageNumber:\"Paginator_pageNumber__2dqUV\",selectedPage:\"Paginator_selectedPage__3YUE0\"}},99:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h})),n.d(t,\"d\",(function(){return p})),n.d(t,\"c\",(function(){return O})),n.d(t,\"g\",(function(){return g})),n.d(t,\"e\",(function(){return x})),n.d(t,\"f\",(function(){return m}));var r=n(10),c=n.n(r),a=n(14),s=n(18),i=n(1),u=n(20),o=function(e){return u.a.get(\"profile/\"+e).then((function(e){return e.data}))},l=function(e){return u.a.get(\"profile/status/\"+e).then((function(e){return e.data}))},d=function(e){return u.a.put(\"profile/status\",{status:e}).then((function(e){return e.data}))},j=function(e){var t=new FormData;return t.append(\"image\",e),u.a.put(\"profile/photo\",t,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){return e.data}))},f=function(e){return u.a.put(\"profile\",e).then((function(e){return e.data}))},b={posts:[{id:1,message:\"Hi, how are you?\",likesCount:12},{id:2,message:\"It's my first post\",likesCount:11},{id:3,message:\"Blabla\",likesCount:11},{id:4,message:\"Dada\",likesCount:11}],profile:null,status:\"\",isFetchingSave:!1},h={addPostActionCreator:function(e){return{type:\"ADD-POST\",newPostText:e}},setUserProfile:function(e){return{type:\"SET_USER_PROFILE\",profile:e}},setStatus:function(e){return{type:\"SET_STATUS\",status:e}},deletePost:function(e){return{type:\"DELETE_POST\",postId:e}},savePhotoSuccess:function(e){return{type:\"SAVE_PHOTO_SUCCESS\",photos:e}},isFetchingTogle:function(e){return{type:\"TOGGLE_IS_FETCHING\",isFetching:e}}},p=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:r=t.sent,n(h.setUserProfile(r));case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(h.setStatus(r));case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:0===t.sent.resultCode&&n(h.setStatus(e));case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(h.isFetchingTogle(!0)),t.next=3,j(e);case 3:0===(r=t.sent).resultCode&&n(h.savePhotoSuccess(r.data.photos)),n(h.isFetchingTogle(!1));case 6:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,f(e);case 3:if(0!==t.sent.resultCode){t.next=10;break}if(null==a){t.next=9;break}n(p(a)),t.next=10;break;case 9:throw new Error(\"userId null\");case 10:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ADD-POST\":var n={id:5,message:t.newPostText,likesCount:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case\"SET_STATUS\":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case\"SET_USER_PROFILE\":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case\"DELETE_POST\":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});case\"SAVE_PHOTO_SUCCESS\":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});case\"TOGGLE_IS_FETCHING\":return Object(i.a)(Object(i.a)({},e),{},{isFetchingSave:t.isFetching});default:return e}}}},[[180,1,2]]]);","name":"static/js/main.92dbc94e.chunk.js","map":{"version":3,"sources":["static/js/main.92dbc94e.chunk.js"],"names":["this","push","102","module","__webpack_exports__","__webpack_require__","p","111","d","actions","D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","initialState","dialogs","id","name","messages","message","sendMessage","newMessageBody","type","state","arguments","length","undefined","action","body","Object","concat","112","chat_reducer_startMessagesListening","chat_reducer_stopMessagesListening","chat_reducer_sendMessages","regenerator","regenerator_default","n","asyncToGenerator","toConsumableArray","objectSpread2","subcribers","messages-received","status-changed","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","data","forEach","s","openHandler","errorHandler","console","error","cleanUp","_ws","_ws2","_ws3","_ws4","removeEventListener","status","_ws5","close","WebSocket","addEventListener","chatAPI","_ws6","eventName","callback","filter","_ws7","send","v1","payload","_newMessageHandler","newMessageHandlerCreator","dispatch","_statusChangedHandler","statusChangedHandlerCreator","_ref","a","mark","_callee","wrap","_context","prev","next","stop","_x","apply","_ref2","_callee2","_context2","_x2","_ref3","_callee3","_context3","_x3","map","m","index","array","117","exports","userPhoto","selectedPage","146","147","180","r","react","react_default","react_dom","react_dom_default","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","classCallCheck","createClass","inherits","createSuper","react_router_dom","react_router","es","Preloader","reselect_es","users_selectors_getUsers","usersPage","users","u","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","defineProperty","slicedToArray","Paginator_module","Paginator_module_default","classnames","classnames_default","jsx_runtime","common_Paginator_Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","portionCount","_useState","_useState2","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","paginator","children","onClick","pageNumber","users_module","users_module_default","images_user","Users_User","user","unfollow","follow","to","src","photos","small","followed","disabled","some","formik_esm","usersSearchFormValidate","values","UsersSearchForm","memo","props","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","as","value","object_helpers_updateObjectInArray","items","itemId","objPropName","newObjProps","api","usersAPI","getUsers","get","res","userId","post","delete","count","users_reducer_requestUsers","page","getState","sent","totalCount","users_reducer","querystring_es3","Users_Users","history","parsed","location","search","substr","actualPage","actualFilter","Number","query","pathname","UsersContainer_UsersPage","pageTitle","authAPI","email","password","rememberMe","captcha","securityAPI","auth_reducer_initialState","login","isAuth","captchaUrl","auth_reducer_actions","auth_reducer_getAuthUserData","meData","_meData$data","_login","resultCode","Success","auth_reducer_getCaptchaUrl","url","auth_reducer","redux","profile_reducer","dialogs_reducer","sidebar_reducer_initialState","sidebar_reducer","redux_thunk_es","app_reducer_initialState","initialized","errorText","app_reducer_actions","textError","app_reducer","chat_reducer","rootReducer","profilePage","dialogsPage","sidebar","auth","app","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","__store__","redux_store","components_Login_Login","loginData","CaptchaIsRequired","formik","handleSubmit","onChange","handleChange","placeholder","withSuspense","WrappedComponent","Suspense","fallback","error404","menu","layout","breadcrumb","UserOutlined","LaptopOutlined","NotificationOutlined","row","col","avatar","es_button","selectIsAuth","selectCurrentUserLogin","Header_Header","Header","span","theme","mode","defaultSelectedKeys","Item","alt","style","backgroundColor","icon","_ref4","_callee4","_context4","_x4","SubMenu","Content","Footer","Sider","DialogsContainer","lazy","ProfileContainer","Promise","all","ChatPageContainer","SuspendedDialogs","SuspendedProfile","SuspendedPageChat","App_App","_Component","App","_super","_this","_len","args","Array","_key","call","catchAllUnhandledErrors","PromiseRejectionEvent","reason","key","initializeApp","padding","margin","width","height","title","minHeight","exact","path","render","textAlign","AppContainer","promise","src_App_0","document","getElementById","20","instance","resultCodesEnum","resultCodesForCapctha","axios__WEBPACK_IMPORTED_MODULE_0__","create","withCredentials","baseURL","headers","API-KEY","73","preloader","89","99","profile_reducer_getUserProfile","profile_reducer_getStatus","profile_reducer_updateStatus","profile_reducer_savePhoto","profile_reducer_saveProfile","profileAPI","put","photoFile","formData","FormData","append","Content-Type","profile","posts","likesCount","isFetchingSave","addPostActionCreator","newPostText","setUserProfile","setStatus","deletePost","postId","savePhotoSuccess","isFetchingTogle","file","_ref5","_callee5","_context5","Error","_x5","_x6","newPost"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[0],{\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.p + \"static/media/user.96e310a6.png\");\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return actions; });\n/* harmony import */ var D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18);\n/* harmony import */ var D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\nvar initialState={dialogs:[{id:1,name:'Dimych'},{id:2,name:'Andrew'},{id:3,name:'Sveta'},{id:4,name:'Sasha'},{id:5,name:'Viktor'},{id:6,name:'Valera'}],messages:[{id:1,message:'Hi'},{id:2,message:'How is your it-kamasutra?'},{id:3,message:'Yo'},{id:4,message:'Yo'},{id:5,message:'Yo'}]};var dialogsReducer=function dialogsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'SN/DIALOGS/SEND_MESSAGE':var body=action.newMessageBody;return Object(D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},state),{},{messages:[].concat(Object(D_REact_01_first_interview_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(state.messages),[{id:6,message:body}])});default:return state;}};var actions={sendMessage:function sendMessage(newMessageBody){return{type:'SN/DIALOGS/SEND_MESSAGE',newMessageBody:newMessageBody};}};/* harmony default export */ __webpack_exports__[\"b\"] = (dialogsReducer);\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* binding */ chat_reducer_startMessagesListening; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* binding */ chat_reducer_stopMessagesListening; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ chat_reducer_sendMessages; });\n\n// UNUSED EXPORTS: actions\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/api/chat-api.ts\nvar subcribers={'messages-received':[],'status-changed':[]};var ws=null;var closeHandler=function closeHandler(){notifySubscribersAboutStatus('pending');setTimeout(createChannel,3000);};var messageHandler=function messageHandler(e){var newMessages=JSON.parse(e.data);subcribers['messages-received'].forEach(function(s){return s(newMessages);});};var openHandler=function openHandler(){notifySubscribersAboutStatus('ready');};var errorHandler=function errorHandler(){notifySubscribersAboutStatus('error');console.error('REFRESH PAGE');};var cleanUp=function cleanUp(){var _ws,_ws2,_ws3,_ws4;(_ws=ws)===null||_ws===void 0?void 0:_ws.removeEventListener('close',closeHandler);(_ws2=ws)===null||_ws2===void 0?void 0:_ws2.removeEventListener('message',messageHandler);(_ws3=ws)===null||_ws3===void 0?void 0:_ws3.removeEventListener('open',openHandler);(_ws4=ws)===null||_ws4===void 0?void 0:_ws4.removeEventListener('error',errorHandler);};var notifySubscribersAboutStatus=function notifySubscribersAboutStatus(status){subcribers['status-changed'].forEach(function(s){return s(status);});};function createChannel(){var _ws5;cleanUp();(_ws5=ws)===null||_ws5===void 0?void 0:_ws5.close();ws=new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');notifySubscribersAboutStatus('pending');ws.addEventListener('close',closeHandler);ws.addEventListener('message',messageHandler);ws.addEventListener('open',openHandler);ws.addEventListener('error',errorHandler);}var chatAPI={start:function start(){createChannel();},stop:function stop(){var _ws6;subcribers['messages-received']=[];subcribers['status-changed']=[];cleanUp();(_ws6=ws)===null||_ws6===void 0?void 0:_ws6.close();},subscribe:function subscribe(eventName,callback){// @ts-ignore\nsubcribers[eventName].push(callback);return function(){// @ts-ignore\nsubcribers[eventName]=subcribers[eventName].filter(function(s){return s!==callback;});};},unsubscribe:function unsubscribe(eventName,callback){// @ts-ignore\nsubcribers[eventName]=subcribers[eventName].filter(function(s){return s!==callback;});},sendMessage:function sendMessage(message){var _ws7;(_ws7=ws)===null||_ws7===void 0?void 0:_ws7.send(message);}};\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v1.js + 4 modules\nvar v1 = __webpack_require__(186);\n\n// CONCATENATED MODULE: ./src/redux/chat-reducer.ts\nvar initialState={messages:[],status:'pending'};var chat_reducer_chatReducer=function chatReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'SN/chat/MESSAGES_RECEVIED':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{messages:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.messages),Object(toConsumableArray[\"a\" /* default */])(action.payload.messages.map(function(m){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},m),{},{id:Object(v1[\"a\" /* default */])()});}))).filter(function(m,index,array){return index>=array.length-100;})});case'SN/chat/STATUS_CHANGED':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{status:action.payload.status});default:return state;}};var actions={messagesReceived:function messagesReceived(messages){return{type:'SN/chat/MESSAGES_RECEVIED',payload:{messages:messages}};},statusChanged:function statusChanged(status){return{type:'SN/chat/STATUS_CHANGED',payload:{status:status}};}};var _newMessageHandler=null;var newMessageHandlerCreator=function newMessageHandlerCreator(dispatch){if(_newMessageHandler===null){_newMessageHandler=function _newMessageHandler(messages){dispatch(actions.messagesReceived(messages));};}return _newMessageHandler;};var _statusChangedHandler=null;var statusChangedHandlerCreator=function statusChangedHandlerCreator(dispatch){if(_statusChangedHandler===null){_statusChangedHandler=function _statusChangedHandler(status){dispatch(actions.statusChanged(status));};}return _statusChangedHandler;};var chat_reducer_startMessagesListening=function startMessagesListening(){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:chatAPI.start();chatAPI.subscribe('messages-received',newMessageHandlerCreator(dispatch));chatAPI.subscribe('status-changed',statusChangedHandlerCreator(dispatch));case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var chat_reducer_stopMessagesListening=function stopMessagesListening(){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:chatAPI.unsubscribe('messages-received',newMessageHandlerCreator(dispatch));chatAPI.subscribe('status-changed',statusChangedHandlerCreator(dispatch));chatAPI.stop();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var chat_reducer_sendMessages=function sendMessages(message){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:chatAPI.sendMessage(message);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};/* harmony default export */ var chat_reducer = __webpack_exports__[\"a\"] = (chat_reducer_chatReducer);\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Ibmq\",\"selectedPage\":\"users_selectedPage__2B7XU\"};\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(28);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(146);\n\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 7).then(__webpack_require__.bind(null, 345)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createSuper.js + 1 modules\nvar createSuper = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(147);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 23 modules\nvar es = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/components/common/Preloader/Preloader.tsx + 1 modules\nvar Preloader = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/reselect/es/index.js\nvar reselect_es = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./src/redux/users-selectors.ts\nvar getUsersSelector=function getUsersSelector(state){return state.usersPage.users;};var users_selectors_getUsers=Object(reselect_es[\"a\" /* createSelector */])(getUsersSelector,function(users){return users.filter(function(u){return true;});});var getPageSize=function getPageSize(state){return state.usersPage.pageSize;};var getTotalUsersCount=function getTotalUsersCount(state){return state.usersPage.totalUsersCount;};var getCurrentPage=function getCurrentPage(state){return state.usersPage.currentPage;};var getIsFetching=function getIsFetching(state){return state.usersPage.isFetching;};var getFollowingInProgress=function getFollowingInProgress(state){return state.usersPage.followingInProgress;};var getUsersFilter=function getUsersFilter(state){return state.usersPage.filter;};var countSomethingDifficult=function countSomethingDifficult(state){debugger;//for... math... big arrays\nvar count=23;return count;};\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/components/common/Paginator/Paginator.module.css\nvar Paginator_module = __webpack_require__(89);\nvar Paginator_module_default = /*#__PURE__*/__webpack_require__.n(Paginator_module);\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(4);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/common/Paginator/Paginator.tsx\nvar Paginator_Paginator=function Paginator(_ref){var totalItemsCount=_ref.totalItemsCount,pageSize=_ref.pageSize,currentPage=_ref.currentPage,onPageChanged=_ref.onPageChanged,_ref$portionSize=_ref.portionSize,portionSize=_ref$portionSize===void 0?10:_ref$portionSize;var pagesCount=Math.ceil(totalItemsCount/pageSize);var pages=[];for(var i=1;i<=pagesCount;i++){pages.push(i);}var portionCount=Math.ceil(pagesCount/portionSize);var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),portionNumber=_useState2[0],setPortionNumber=_useState2[1];var leftPortionPageNumber=(portionNumber-1)*portionSize+1;var rightPortionPageNumber=portionNumber*portionSize;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:Paginator_module_default.a.paginator,children:[portionNumber>1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){setPortionNumber(portionNumber-1);},children:\"PREV\"}),pages.filter(function(p){return p>=leftPortionPageNumber&&p<=rightPortionPageNumber;}).map(function(p){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:classnames_default()(Object(defineProperty[\"a\" /* default */])({},Paginator_module_default.a.selectedPage,currentPage===p),Paginator_module_default.a.pageNumber),onClick:function onClick(e){onPageChanged(p);},children:p},p);}),portionCount>portionNumber&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){setPortionNumber(portionNumber+1);},children:\"NEXT\"})]});};/* harmony default export */ var common_Paginator_Paginator = (Paginator_Paginator);\n// EXTERNAL MODULE: ./src/components/Users/users.module.css\nvar users_module = __webpack_require__(117);\nvar users_module_default = /*#__PURE__*/__webpack_require__.n(users_module);\n\n// EXTERNAL MODULE: ./src/assets/images/user.png\nvar images_user = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./src/components/Users/User.tsx\nvar User_User=function User(_ref){var user=_ref.user,followingInProgress=_ref.followingInProgress,unfollow=_ref.unfollow,follow=_ref.follow;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:'/profile/'+user.id,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:user.photos.small!=null?user.photos.small:images_user[\"a\" /* default */],className:users_module_default.a.userPhoto})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:user.followed?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:followingInProgress.some(function(id){return id===user.id;}),onClick:function onClick(){unfollow(user.id);},children:\"Unfollow\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:followingInProgress.some(function(id){return id===user.id;}),onClick:function onClick(){follow(user.id);},children:\"Follow\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:user.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:user.status})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"user.location.country\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"user.location.city\"})]})]})]});};/* harmony default export */ var Users_User = (User_User);\n// EXTERNAL MODULE: ./node_modules/formik/dist/formik.esm.js + 114 modules\nvar formik_esm = __webpack_require__(56);\n\n// CONCATENATED MODULE: ./src/components/Users/UsersSearchForm.tsx\nvar usersSearchFormValidate=function usersSearchFormValidate(values){var errors={};return errors;};var UsersSearchForm=/*#__PURE__*/react_default.a.memo(function(props){var filter=Object(es[\"d\" /* useSelector */])(getUsersFilter);var submit=function submit(values,_ref){var setSubmitting=_ref.setSubmitting;var filter={term:values.term,friend:values.friend==='null'?null:values.friend==='true'?true:false};props.onFilterChanged(filter);setSubmitting(false);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"c\" /* Formik */],{enableReinitialize:true,initialValues:{term:filter.term,friend:String(filter.friend)},validate:usersSearchFormValidate,onSubmit:submit,children:function children(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(formik_esm[\"b\" /* Form */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"a\" /* Field */],{type:\"text\",name:\"term\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(formik_esm[\"a\" /* Field */],{name:\"friend\",as:\"select\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"null\",children:\"All\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"true\",children:\"Only followed\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"false\",children:\"Only unfollowed\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",disabled:isSubmitting,children:\"Find\"})]});}})});});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/utils/object-helpers.js\nvar object_helpers_updateObjectInArray=function updateObjectInArray(items,itemId,objPropName,newObjProps){return items.map(function(u){if(u[objPropName]===itemId){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},u),newObjProps);}return u;});};\n// EXTERNAL MODULE: ./src/api/api.ts\nvar api = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/api/users-api.ts\nvar usersAPI={getUsers:function getUsers(){var currentPage=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var pageSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var term=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var friend=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return api[\"a\" /* instance */].get(\"users?page=\".concat(currentPage,\"&count=\").concat(pageSize,\"&term=\").concat(term)+(friend===null?'':\"&friend=\".concat(friend))).then(function(res){return res.data;});},follow:function follow(userId){return api[\"a\" /* instance */].post(\"follow/\".concat(userId)).then(function(res){return res.data;});},unfollow:function unfollow(userId){return api[\"a\" /* instance */].delete(\"follow/\".concat(userId)).then(function(res){return res.data;});}};\n// CONCATENATED MODULE: ./src/redux/users-reducer.ts\nvar initialState={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:true,followingInProgress:[],//array of users ids\nfilter:{term:'',friend:null}};var users_reducer_usersReducer=function usersReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'SN/USERS/FOLLOW':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{users:object_helpers_updateObjectInArray(state.users,action.userId,\"id\",{followed:true})});case'SN/USERS/UNFOLLOW':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{users:object_helpers_updateObjectInArray(state.users,action.userId,\"id\",{followed:false})});case'SN/USERS/SET_USERS':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{users:action.users});}case'SN/USERS/SET_CURRENT_PAGE':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentPage:action.currentPage});}case'SN/USERS/SET_TOTAL_USERS_COUNT':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{totalUsersCount:action.count});}case'SN/USERS/TOGGLE_IS_FETCHING':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isFetching:action.isFetching});}case'SN/USERS/SET_FILTER':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{filter:action.payload});}case'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{followingInProgress:action.isFetching?[].concat(Object(toConsumableArray[\"a\" /* default */])(state.followingInProgress),[action.userId]):state.followingInProgress.filter(function(id){return id!=action.userId;})});}default:return state;}};var actions={followSuccess:function followSuccess(userId){return{type:'SN/USERS/FOLLOW',userId:userId};},unfollowSuccess:function unfollowSuccess(userId){return{type:'SN/USERS/UNFOLLOW',userId:userId};},setUsers:function setUsers(users){return{type:'SN/USERS/SET_USERS',users:users};},setCurrentPage:function setCurrentPage(currentPage){return{type:'SN/USERS/SET_CURRENT_PAGE',currentPage:currentPage};},setFilter:function setFilter(filter){return{type:'SN/USERS/SET_FILTER',payload:filter};},setTotalUsersCount:function setTotalUsersCount(totalUsersCount){return{type:'SN/USERS/SET_TOTAL_USERS_COUNT',count:totalUsersCount};},toggleIsFetching:function toggleIsFetching(isFetching){return{type:'SN/USERS/TOGGLE_IS_FETCHING',isFetching:isFetching};},toggleFollowingProgress:function toggleFollowingProgress(isFetching,userId){return{type:'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',isFetching:isFetching,userId:userId};}};var users_reducer_requestUsers=function requestUsers(page,pageSize,filter){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch,getState){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(actions.toggleIsFetching(true));dispatch(actions.setCurrentPage(page));dispatch(actions.setFilter(filter));_context.next=5;return usersAPI.getUsers(page,pageSize,filter.term,filter.friend);case 5:data=_context.sent;dispatch(actions.toggleIsFetching(false));dispatch(actions.setUsers(data.items));dispatch(actions.setTotalUsersCount(data.totalCount));case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};var _followUnfollowFlow=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch,userId,apiMethod,actionCreator){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(actions.toggleFollowingProgress(true,userId));_context2.next=3;return apiMethod(userId);case 3:response=_context2.sent;if(response.resultCode===0){dispatch(actionCreator(userId));}dispatch(actions.toggleFollowingProgress(false,userId));case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function _followUnfollowFlow(_x3,_x4,_x5,_x6){return _ref2.apply(this,arguments);};}();var users_reducer_follow=function follow(userId){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),actions.followSuccess);case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x7){return _ref3.apply(this,arguments);};}();};var users_reducer_unfollow=function unfollow(userId){return/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),actions.unfollowSuccess);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x8){return _ref4.apply(this,arguments);};}();};/* harmony default export */ var users_reducer = (users_reducer_usersReducer);\n// EXTERNAL MODULE: ./node_modules/querystring-es3/index.js\nvar querystring_es3 = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/components/Users/Users.tsx\nvar Users_Users=function Users(props){var users=Object(es[\"d\" /* useSelector */])(users_selectors_getUsers);var totalUsersCount=Object(es[\"d\" /* useSelector */])(getTotalUsersCount);var currentPage=Object(es[\"d\" /* useSelector */])(getCurrentPage);var pageSize=Object(es[\"d\" /* useSelector */])(getPageSize);var filter=Object(es[\"d\" /* useSelector */])(getUsersFilter);var followingInProgress=Object(es[\"d\" /* useSelector */])(getFollowingInProgress);var dispatch=Object(es[\"c\" /* useDispatch */])();var history=Object(react_router[\"g\" /* useHistory */])();Object(react[\"useEffect\"])(function(){var parsed=querystring_es3[\"parse\"](history.location.search.substr(1));var actualPage=currentPage;var actualFilter=filter;if(!!parsed.page)actualPage=Number(parsed.page);if(!!parsed.term)actualFilter=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},actualFilter),{},{term:parsed.term});switch(parsed.friend){case\"null\":actualFilter=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},actualFilter),{},{friend:null});break;case\"true\":actualFilter=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},actualFilter),{},{friend:true});break;case\"false\":actualFilter=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},actualFilter),{},{friend:false});break;}dispatch(users_reducer_requestUsers(actualPage,pageSize,actualFilter));},[]);Object(react[\"useEffect\"])(function(){var query={};if(!!filter.term)query.term=filter.term;if(filter.friend!==null)query.friend=String(filter.friend);if(currentPage!==1)query.page=String(currentPage);history.push({pathname:'/users',search:querystring_es3[\"stringify\"](query)});},[filter,currentPage]);var onPageChanged=function onPageChanged(pageNumber){dispatch(users_reducer_requestUsers(pageNumber,pageSize,filter));};var onFilterChanged=function onFilterChanged(filter){dispatch(users_reducer_requestUsers(1,pageSize,filter));};var follow=function follow(userId){dispatch(follow(userId));};var unfollow=function unfollow(userId){dispatch(unfollow(userId));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UsersSearchForm,{onFilterChanged:onFilterChanged}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Paginator_Paginator,{currentPage:currentPage,onPageChanged:onPageChanged,totalItemsCount:totalUsersCount,pageSize:pageSize}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:users.map(function(u){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Users_User,{user:u,followingInProgress:followingInProgress,unfollow:unfollow,follow:follow},u.id);})})]});};\n// CONCATENATED MODULE: ./src/components/Users/UsersContainer.tsx\nvar UsersContainer_UsersPage=function UsersPage(props){var isFetching=Object(es[\"d\" /* useSelector */])(getIsFetching);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:props.pageTitle}),isFetching?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preloader[\"a\" /* default */],{}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Users_Users,{})]});};\n// CONCATENATED MODULE: ./src/api/auth-api.ts\nvar authAPI={me:function me(){return api[\"a\" /* instance */].get(\"auth/me\").then(function(res){return res.data;});},login:function login(email,password){var rememberMe=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var captcha=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return api[\"a\" /* instance */].post(\"auth/login\",{email:email,password:password,rememberMe:rememberMe,captcha:captcha}).then(function(res){return res.data;});},logout:function logout(){return api[\"a\" /* instance */].delete(\"auth/login\");}};\n// CONCATENATED MODULE: ./src/api/security-api.ts\nvar securityAPI={getCaptchaUrl:function getCaptchaUrl(){return api[\"a\" /* instance */].get(\"security/get-captcha-url\").then(function(res){return res.data;});}};\n// CONCATENATED MODULE: ./src/redux/auth-reducer.ts\nvar auth_reducer_initialState={userId:null,email:null,login:null,isAuth:false,captchaUrl:null};var auth_reducer_authReducer=function authReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:auth_reducer_initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'SN/auth/SET_USER_DATA':case'SN/auth/GET_CAPTCHA_URL_SUCCESS':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),action.payload);default:return state;}};var auth_reducer_actions={setAuthUserData:function setAuthUserData(userId,email,login,isAuth){return{type:'SN/auth/SET_USER_DATA',payload:{userId:userId,email:email,login:login,isAuth:isAuth}};},getCaptchaUrlSuccess:function getCaptchaUrlSuccess(captchaUrl){return{type:'SN/auth/GET_CAPTCHA_URL_SUCCESS',payload:{captchaUrl:captchaUrl}};}};var auth_reducer_getAuthUserData=function getAuthUserData(){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch){var meData,_meData$data,id,_login,email;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return authAPI.me();case 2:meData=_context.sent;if(meData.resultCode===api[\"b\" /* resultCodesEnum */].Success){_meData$data=meData.data,id=_meData$data.id,_login=_meData$data.login,email=_meData$data.email;dispatch(auth_reducer_actions.setAuthUserData(id,email,_login,true));}case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var auth_reducer_login=function login(email,password,rememberMe,captcha){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch){var loginData;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return authAPI.login(email,password,rememberMe,captcha);case 2:loginData=_context2.sent;if(loginData.resultCode===api[\"b\" /* resultCodesEnum */].Success){// success, get auth data\ndispatch(auth_reducer_getAuthUserData());}else{if(loginData.resultCode===api[\"c\" /* resultCodesForCapctha */].CaptchaIsRequired){dispatch(auth_reducer_getCaptchaUrl());}}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var auth_reducer_getCaptchaUrl=function getCaptchaUrl(){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch){var data,captchaUrl;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return securityAPI.getCaptchaUrl();case 2:data=_context3.sent;captchaUrl=data.url;dispatch(auth_reducer_actions.getCaptchaUrlSuccess(captchaUrl));case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};var auth_reducer_logout=function logout(){return/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch){var response;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return authAPI.logout();case 2:response=_context4.sent;if(response.data.resultCode===0){dispatch(auth_reducer_actions.setAuthUserData(null,null,null,false));}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};/* harmony default export */ var auth_reducer = (auth_reducer_authReducer);\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(57);\n\n// EXTERNAL MODULE: ./src/redux/profile-reducer.ts + 1 modules\nvar profile_reducer = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/redux/dialogs-reducer.ts\nvar dialogs_reducer = __webpack_require__(111);\n\n// CONCATENATED MODULE: ./src/redux/sidebar-reducer.ts\nvar sidebar_reducer_initialState={};var sidebarReducer=function sidebarReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:sidebar_reducer_initialState;var action=arguments.length>1?arguments[1]:undefined;return state;};/* harmony default export */ var sidebar_reducer = (sidebarReducer);\n// EXTERNAL MODULE: ./node_modules/redux-thunk/es/index.js\nvar redux_thunk_es = __webpack_require__(122);\n\n// CONCATENATED MODULE: ./src/redux/app-reducer.ts\nvar app_reducer_initialState={initialized:false,errorText:null};var app_reducer_appReducer=function appReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:app_reducer_initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'INITIALIZED_SUCCESS':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{initialized:true});case'ERROR_SUCCESS':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{errorText:action.textError});default:return state;}};var app_reducer_actions={initializedSuccess:function initializedSuccess(){return{type:'INITIALIZED_SUCCESS'};},errorSucces:function errorSucces(textError){return{type:'ERROR_SUCCESS',textError:textError};}};var app_reducer_initializeApp=function initializeApp(){return function(dispatch){var promise=dispatch(auth_reducer_getAuthUserData());Promise.all([promise]).then(function(){dispatch(app_reducer_actions.initializedSuccess());});};};var error=function error(textError){return function(dispatch){dispatch(app_reducer_actions.errorSucces(textError));var SetError=function SetError(){return dispatch(app_reducer_actions.errorSucces(null));};setTimeout(SetError,2000);};};/* harmony default export */ var app_reducer = (app_reducer_appReducer);\n// EXTERNAL MODULE: ./src/redux/chat-reducer.ts + 1 modules\nvar chat_reducer = __webpack_require__(112);\n\n// CONCATENATED MODULE: ./src/redux/redux-store.ts\nvar rootReducer=Object(redux[\"b\" /* combineReducers */])({profilePage:profile_reducer[\"b\" /* default */],dialogsPage:dialogs_reducer[\"b\" /* default */],sidebar:sidebar_reducer,usersPage:users_reducer,auth:auth_reducer,app:app_reducer,chat:chat_reducer[\"a\" /* default */]});// @ts-ignore\nvar composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||redux[\"c\" /* compose */];var store=Object(redux[\"d\" /* createStore */])(rootReducer,composeEnhancers(Object(redux[\"a\" /* applyMiddleware */])(redux_thunk_es[\"a\" /* default */])));// @ts-ignore\nwindow.__store__=store;/* harmony default export */ var redux_store = (store);\n// CONCATENATED MODULE: ./src/components/Login/Login.jsx\nvar Login_Login=function Login(props){var initialValues={email:'',password:'',rememberMe:false,captcha:''};var onSubmit=function onSubmit(values){props.login(formik.values.email,formik.values.password,formik.values.rememberMe,formik.values.captcha);};var formik=Object(formik_esm[\"d\" /* useFormik */])({initialValues:initialValues,onSubmit:onSubmit});if(props.isAuth){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:'/profile'});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"LOGIN\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formik.values.email,onChange:formik.handleChange,type:\"email\",name:\"email\",placeholder:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"login\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formik.values.password,onChange:formik.handleChange,type:\"password\",name:\"password\",placeholder:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formik.values.rememberMe,onChange:formik.handleChange,name:\"rememberMe\",type:\"checkbox\"}),\"remember me\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.captchaUrl}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formik.values.captcha,onChange:formik.handleChange,name:\"captcha\",type:\"text\"}),\"captcha\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Login\"})]})]})]});};var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,captchaUrl:state.auth.captchaUrl};};/* harmony default export */ var components_Login_Login = (Object(es[\"b\" /* connect */])(mapStateToProps,{login:auth_reducer_login})(Login_Login));\n// CONCATENATED MODULE: ./src/hoc/withSuspense.tsx\nfunction withSuspense(WrappedComponent){return function(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Suspense,{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"loading...\"}),children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WrappedComponent,Object(objectSpread2[\"a\" /* default */])({},props))});};}\n// CONCATENATED MODULE: ./src/components/common/404/error404.js\nvar error404_NotFound=function NotFound(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:props.errorText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"We are sorry but the page you are looking for does not exist.\"})]});};/* harmony default export */ var error404 = (error404_NotFound);\n// EXTERNAL MODULE: ./node_modules/antd/dist/antd.css\nvar antd = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/menu/index.js + 3 modules\nvar menu = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/layout/index.js\nvar layout = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/breadcrumb/index.js + 7 modules\nvar breadcrumb = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/UserOutlined.js + 1 modules\nvar UserOutlined = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/LaptopOutlined.js + 1 modules\nvar LaptopOutlined = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/NotificationOutlined.js + 1 modules\nvar NotificationOutlined = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js + 3 modules\nvar row = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js + 1 modules\nvar col = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/avatar/index.js + 6 modules\nvar avatar = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js + 9 modules\nvar es_button = __webpack_require__(90);\n\n// CONCATENATED MODULE: ./src/redux/auth-selectors.ts\nvar selectIsAuth=function selectIsAuth(state){return state.auth.isAuth;};var selectCurrentUserLogin=function selectCurrentUserLogin(state){return state.auth.login;};\n// CONCATENATED MODULE: ./src/components/Header/Header.tsx\nvar Header_Header=function Header(props){var isAuth=Object(es[\"d\" /* useSelector */])(selectIsAuth);var login=Object(es[\"d\" /* useSelector */])(selectCurrentUserLogin);var dispatch=Object(es[\"c\" /* useDispatch */])();var logoutCollBack=function logoutCollBack(){dispatch(auth_reducer_logout());};var Header=layout[\"a\" /* default */].Header;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header,{className:\"header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(row[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(col[\"a\" /* default */],{span:18,children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */],{theme:\"dark\",mode:\"horizontal\",defaultSelectedKeys:['2'],children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/users\",children:\"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0441\\u0438\\u0442\\u044B\"})},\"1\")})]}),isAuth?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(col[\"a\" /* default */],{span:1,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(avatar[\"a\" /* default */],{alt:login||'',style:{backgroundColor:'#87d068'},icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserOutlined[\"a\" /* default */],{})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(col[\"a\" /* default */],{span:5,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es_button[\"a\" /* default */],{onClick:logoutCollBack,children:\"Log out\"}),\" \"]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(col[\"a\" /* default */],{span:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:'/login',children:\"Login\"}),\"  \"]})]})});// <header className={s.header}>\n//     <img src='https://placepic.ru/wp-content/uploads/2019/04/744667-male-lion-faces-wallpaper-2048x1423-for-meizu-1024x711.jpg'/>\n//\n//     <div className={s.loginBlock}>\n//         { props.isAuth\n//             ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\n//             : <NavLink to={'/login'}>Login</NavLink> }\n//     </div>\n// </header>\n};\n// CONCATENATED MODULE: ./src/App.tsx\nvar SubMenu=menu[\"a\" /* default */].SubMenu;var Content=layout[\"a\" /* default */].Content,Footer=layout[\"a\" /* default */].Footer,Sider=layout[\"a\" /* default */].Sider;var DialogsContainer=/*#__PURE__*/react_default.a.lazy(function(){return __webpack_require__.e(/* import() */ 5).then(__webpack_require__.bind(null, 347));});var ProfileContainer=/*#__PURE__*/react_default.a.lazy(function(){return Promise.all(/* import() */[__webpack_require__.e(3), __webpack_require__.e(4)]).then(__webpack_require__.bind(null, 346));});var ChatPageContainer=/*#__PURE__*/react_default.a.lazy(function(){return __webpack_require__.e(/* import() */ 6).then(__webpack_require__.bind(null, 348));});var SuspendedDialogs=withSuspense(DialogsContainer);var SuspendedProfile=withSuspense(ProfileContainer);var SuspendedPageChat=withSuspense(ChatPageContainer);var App_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.catchAllUnhandledErrors=function(PromiseRejectionEvent){_this.props.error(\"\".concat(PromiseRejectionEvent.reason));};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.initializeApp();window.addEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"unhandledrejection\",this.catchAllUnhandledErrors);}},{key:\"render\",value:function render(){if(!this.props.initialized){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preloader[\"a\" /* default */],{});}if(this.props.errorText!=null){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(error404,{errorText:this.props.errorText});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(layout[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header_Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Content,{style:{padding:'0 50px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(breadcrumb[\"a\" /* default */],{style:{margin:'16px 0'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(breadcrumb[\"a\" /* default */].Item,{children:\"Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(breadcrumb[\"a\" /* default */].Item,{children:\"List\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(breadcrumb[\"a\" /* default */].Item,{children:\"App\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(layout[\"a\" /* default */],{className:\"site-layout-background\",style:{padding:'24px 0'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Sider,{className:\"site-layout-background\",width:200,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(menu[\"a\" /* default */],{mode:\"inline\"//defaultSelectedKeys={['1']}\n//defaultOpenKeys={['sub1']}\n,style:{height:'100%'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SubMenu,{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserOutlined[\"a\" /* default */],{}),title:\"My profile\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"Profile\"})},\"1\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/dialogs\",children:\"Messages\"})},\"2\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/chat\",children:\"Chat\"})},\"3\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option4\"},\"4\")]},\"sub1\"),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SubMenu,{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LaptopOutlined[\"a\" /* default */],{}),title:\"Users\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/users\",children:\"Users\"})},\"5\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option6\"},\"6\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option7\"},\"7\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option8\"},\"8\")]},\"sub2\"),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SubMenu,{icon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NotificationOutlined[\"a\" /* default */],{}),title:\"subnav 3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option9\"},\"9\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option10\"},\"10\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option11\"},\"11\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(menu[\"a\" /* default */].Item,{children:\"option12\"},\"12\")]},\"sub3\")]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Content,{style:{padding:'0 24px',minHeight:280},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/profile\"});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/dialogs\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SuspendedDialogs,{});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/profile/:userId?\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SuspendedProfile,{});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/users\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UsersContainer_UsersPage,{pageTitle:\"\"});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login_Login,{});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/chat\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SuspendedPageChat,{});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"*\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"404 NOT FOUND\"});}})]})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer,{style:{textAlign:'center'},children:\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0442\\u044C 2021\"})]})// <div className='app-wrapper'>\n//     <HeaderContainer/>\n//     <Navbar/>\n//     <div className='app-wrapper-content'>\n//         <Switch>\n//             <Route exact path='/'\n//                    render={() => <Redirect to={\"/profile\"}/>}/>\n//\n//             <Route path='/dialogs'\n//                    render={() => <SuspendedDialogs /> }/>\n//\n//             <Route path='/profile/:userId?'\n//                    render={() => <SuspendedProfile /> }/>\n//\n//             <Route path='/users'\n//                    render={() => <UsersPage pageTitle={\"\"}/>}/>\n//\n//             <Route path='/login'\n//                    render={() => <LoginPage/>}/>\n//\n//             <Route path='*'\n//                    render={() => <div>404 NOT FOUND\n//                    </div>}/>\n//         </Switch>\n//\n//     </div>\n// </div>\n;}}]);return App;}(react[\"Component\"]);var App_mapStateToProps=function mapStateToProps(state){return{initialized:state.app.initialized,errorText:state.app.errorText};};var AppContainer=Object(redux[\"c\" /* compose */])(react_router[\"h\" /* withRouter */],Object(es[\"b\" /* connect */])(App_mapStateToProps,{initializeApp:app_reducer_initializeApp,error:error}))(App_App);var App_SamuraiJSApp=function SamuraiJSApp(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:redux_store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppContainer,{})})});};/* harmony default export */ var src_App_0 = (App_SamuraiJSApp);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return instance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return resultCodesEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return resultCodesForCapctha; });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(121);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\nvar instance=axios__WEBPACK_IMPORTED_MODULE_0___default.a.create({withCredentials:true,baseURL:'https://social-network.samuraijs.com/api/1.0/',headers:{\"API-KEY\":\"fe43f864-7186-466f-88ee-13b781ec408f\"}});var resultCodesEnum;(function(resultCodesEnum){resultCodesEnum[resultCodesEnum[\"Success\"]=0]=\"Success\";resultCodesEnum[resultCodesEnum[\"Error\"]=1]=\"Error\";})(resultCodesEnum||(resultCodesEnum={}));var resultCodesForCapctha;(function(resultCodesForCapctha){resultCodesForCapctha[resultCodesForCapctha[\"CaptchaIsRequired\"]=10]=\"CaptchaIsRequired\";})(resultCodesForCapctha||(resultCodesForCapctha={}));\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/assets/images/preloader.svg\n/* harmony default export */ var preloader = (__webpack_require__.p + \"static/media/preloader.5788b05c.svg\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/common/Preloader/Preloader.tsx\nvar Preloader_Preloader=function Preloader(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{backgroundColor:'white'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:preloader})});};/* harmony default export */ var common_Preloader_Preloader = __webpack_exports__[\"a\"] = (Preloader_Preloader);\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3WY-C\",\"pageNumber\":\"Paginator_pageNumber__2dqUV\",\"selectedPage\":\"Paginator_selectedPage__3YUE0\"};\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ actions; });\n__webpack_require__.d(__webpack_exports__, \"d\", function() { return /* binding */ profile_reducer_getUserProfile; });\n__webpack_require__.d(__webpack_exports__, \"c\", function() { return /* binding */ profile_reducer_getStatus; });\n__webpack_require__.d(__webpack_exports__, \"g\", function() { return /* binding */ profile_reducer_updateStatus; });\n__webpack_require__.d(__webpack_exports__, \"e\", function() { return /* binding */ profile_reducer_savePhoto; });\n__webpack_require__.d(__webpack_exports__, \"f\", function() { return /* binding */ profile_reducer_saveProfile; });\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/api/api.ts\nvar api = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/api/profile-api.ts\nvar profileAPI={getProfile:function getProfile(userId){return api[\"a\" /* instance */].get(\"profile/\"+userId).then(function(res){return res.data;});},getStatus:function getStatus(userId){return api[\"a\" /* instance */].get(\"profile/status/\"+userId).then(function(res){return res.data;});},updateStatus:function updateStatus(status){return api[\"a\" /* instance */].put(\"profile/status\",{status:status}).then(function(res){return res.data;});},savePhoto:function savePhoto(photoFile){var formData=new FormData();formData.append(\"image\",photoFile);return api[\"a\" /* instance */].put(\"profile/photo\",formData,{headers:{'Content-Type':'multipart/form-data'}}).then(function(res){return res.data;});},saveProfile:function saveProfile(profile){return api[\"a\" /* instance */].put(\"profile\",profile).then(function(res){return res.data;});}};\n// CONCATENATED MODULE: ./src/redux/profile-reducer.ts\nvar initialState={posts:[{id:1,message:'Hi, how are you?',likesCount:12},{id:2,message:'It\\'s my first post',likesCount:11},{id:3,message:'Blabla',likesCount:11},{id:4,message:'Dada',likesCount:11}],profile:null,status:\"\",isFetchingSave:false};var profile_reducer_profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'ADD-POST':{var newPost={id:5,message:action.newPostText,likesCount:0};return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{posts:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.posts),[newPost])});}case'SET_STATUS':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{status:action.status});}case'SET_USER_PROFILE':{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{profile:action.profile});}case'DELETE_POST':return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{posts:state.posts.filter(function(p){return p.id!=action.postId;})});case\"SAVE_PHOTO_SUCCESS\":return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{profile:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state.profile),{},{photos:action.photos})});case\"TOGGLE_IS_FETCHING\":return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isFetchingSave:action.isFetching});default:return state;}};var actions={addPostActionCreator:function addPostActionCreator(newPostText){return{type:'ADD-POST',newPostText:newPostText};},setUserProfile:function setUserProfile(profile){return{type:'SET_USER_PROFILE',profile:profile};},setStatus:function setStatus(status){return{type:'SET_STATUS',status:status};},deletePost:function deletePost(postId){return{type:'DELETE_POST',postId:postId};},savePhotoSuccess:function savePhotoSuccess(photos){return{type:\"SAVE_PHOTO_SUCCESS\",photos:photos};},isFetchingTogle:function isFetchingTogle(isFetching){return{type:\"TOGGLE_IS_FETCHING\",isFetching:isFetching};}};var profile_reducer_getUserProfile=function getUserProfile(userId){return/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(dispatch){var data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return profileAPI.getProfile(userId);case 2:data=_context.sent;dispatch(actions.setUserProfile(data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};var profile_reducer_getStatus=function getStatus(userId){return/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(dispatch){var data;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileAPI.getStatus(userId);case 2:data=_context2.sent;dispatch(actions.setStatus(data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};var profile_reducer_updateStatus=function updateStatus(status){return/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(dispatch){var data;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileAPI.updateStatus(status);case 2:data=_context3.sent;if(data.resultCode===0){dispatch(actions.setStatus(status));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};var profile_reducer_savePhoto=function savePhoto(file){return/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(dispatch){var data;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(actions.isFetchingTogle(true));_context4.next=3;return profileAPI.savePhoto(file);case 3:data=_context4.sent;if(data.resultCode===0){dispatch(actions.savePhotoSuccess(data.data.photos));}dispatch(actions.isFetchingTogle(false));case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};var profile_reducer_saveProfile=function saveProfile(profile){return/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(dispatch,getState){var userId,data;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:userId=getState().auth.userId;_context5.next=3;return profileAPI.saveProfile(profile);case 3:data=_context5.sent;if(!(data.resultCode===0)){_context5.next=10;break;}if(!(userId!=null)){_context5.next=9;break;}dispatch(profile_reducer_getUserProfile(userId));_context5.next=10;break;case 9:throw new Error(\"userId null\");case 10:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5,_x6){return _ref5.apply(this,arguments);};}();};/* harmony default export */ var profile_reducer = __webpack_exports__[\"b\"] = (profile_reducer_profileReducer);\n\n/***/ })\n\n},[[180,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\REact\\01_first\\interview\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!D:\\REact\\01_first\\interview\\src\\assets\\images\\user.png","D:/REact/01_first/interview/src/redux/dialogs-reducer.ts","D:/REact/01_first/interview/src/api/chat-api.ts","D:/REact/01_first/interview/src/redux/chat-reducer.ts","D:\\REact\\01_first\\interview\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\REact\\01_first\\interview\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\REact\\01_first\\interview\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REact\\01_first\\interview\\src\\components\\Users\\users.module.css","D:\\REact\\01_first\\interview\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REact\\01_first\\interview\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REact\\01_first\\interview\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REact\\01_first\\interview\\src\\index.css","D:\\REact\\01_first\\interview\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\REact\\01_first\\interview\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\REact\\01_first\\interview\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REact\\01_first\\interview\\src\\App.css","D:/REact/01_first/interview/src/reportWebVitals.js","D:/REact/01_first/interview/src/redux/users-selectors.ts","D:/REact/01_first/interview/src/components/common/Paginator/Paginator.tsx","D:/REact/01_first/interview/src/components/Users/User.tsx","D:/REact/01_first/interview/src/components/Users/UsersSearchForm.tsx","D:/REact/01_first/interview/src/utils/object-helpers.js","D:/REact/01_first/interview/src/api/users-api.ts","D:/REact/01_first/interview/src/redux/users-reducer.ts","D:/REact/01_first/interview/src/components/Users/Users.tsx","D:/REact/01_first/interview/src/components/Users/UsersContainer.tsx","D:/REact/01_first/interview/src/api/auth-api.ts","D:/REact/01_first/interview/src/api/security-api.ts","D:/REact/01_first/interview/src/redux/auth-reducer.ts","D:/REact/01_first/interview/src/redux/sidebar-reducer.ts","D:/REact/01_first/interview/src/redux/app-reducer.ts","D:/REact/01_first/interview/src/redux/redux-store.ts","D:/REact/01_first/interview/src/components/Login/Login.jsx","D:/REact/01_first/interview/src/hoc/withSuspense.tsx","D:/REact/01_first/interview/src/components/common/404/error404.js","D:/REact/01_first/interview/src/redux/auth-selectors.ts","D:/REact/01_first/interview/src/components/Header/Header.tsx","D:/REact/01_first/interview/src/App.tsx","D:/REact/01_first/interview/src/index.js","D:/REact/01_first/interview/src/api/api.ts","D:\\REact\\01_first\\interview\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!D:\\REact\\01_first\\interview\\src\\assets\\images\\preloader.svg","D:/REact/01_first/interview/src/components/common/Preloader/Preloader.tsx","D:\\REact\\01_first\\interview\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\REact\\01_first\\interview\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\REact\\01_first\\interview\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\REact\\01_first\\interview\\src\\components\\common\\Paginator\\Paginator.module.css","D:/REact/01_first/interview/src/api/profile-api.ts","D:/REact/01_first/interview/src/redux/profile-reducer.ts"],"names":["initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","actions","sendMessage","subcribers","ws","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","e","newMessages","JSON","parse","data","forEach","s","openHandler","errorHandler","console","error","cleanUp","removeEventListener","status","close","WebSocket","addEventListener","chatAPI","start","stop","subscribe","eventName","callback","push","filter","unsubscribe","send","chatReducer","payload","map","m","v1","index","array","length","messagesReceived","statusChanged","_newMessageHandler","newMessageHandlerCreator","dispatch","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","sendMessages","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getUsersSelector","usersPage","users","getUsers","createSelector","u","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","countSomethingDifficult","count","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","User","user","unfollow","follow","photos","small","userPhoto","followed","some","usersSearchFormValidate","values","errors","UsersSearchForm","React","memo","props","useSelector","submit","setSubmitting","term","friend","onFilterChanged","String","isSubmitting","updateObjectInArray","items","itemId","objPropName","newObjProps","usersAPI","instance","get","res","userId","post","delete","usersReducer","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setFilter","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","requestUsers","page","getState","totalCount","_followUnfollowFlow","apiMethod","actionCreator","response","resultCode","bind","Users","useDispatch","history","useHistory","useEffect","parsed","queryString","location","search","substr","actualPage","actualFilter","Number","query","pathname","UsersPage","pageTitle","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","isAuth","captchaUrl","authReducer","setAuthUserData","getCaptchaUrlSuccess","getAuthUserData","meData","resultCodesEnum","Success","loginData","resultCodesForCapctha","CaptchaIsRequired","url","sidebarReducer","initialized","errorText","appReducer","textError","initializedSuccess","errorSucces","initializeApp","promise","Promise","all","SetError","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","auth","app","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Login","initialValues","onSubmit","formik","useFormik","handleSubmit","handleChange","mapStateToProps","connect","withSuspense","WrappedComponent","NotFound","selectIsAuth","selectCurrentUserLogin","Header","logoutCollBack","Layout","backgroundColor","SubMenu","Menu","Content","Footer","Sider","DialogsContainer","lazy","ProfileContainer","ChatPageContainer","SuspendedDialogs","SuspendedProfile","SuspendedPageChat","App","catchAllUnhandledErrors","PromiseRejectionEvent","reason","padding","margin","height","minHeight","textAlign","Component","AppContainer","withRouter","SamuraiJSApp","ReactDOM","render","document","getElementById","axios","create","withCredentials","baseURL","headers","Preloader","preloader","profileAPI","getProfile","getStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","posts","likesCount","isFetchingSave","newPost","newPostText","postId","addPostActionCreator","setUserProfile","setStatus","deletePost","savePhotoSuccess","isFetchingTogle","getUserProfile","file","Error"],"mappings":"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","file":"x","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.96e310a6.png\";","import {InferActionsTypes} from './redux-store';\r\n\r\ntype DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\ntype MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrew'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valera'}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ] as Array<MessageType>\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/DIALOGS/SEND_MESSAGE':\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    sendMessage: (newMessageBody: string) => ({type: 'SN/DIALOGS/SEND_MESSAGE', newMessageBody} as const)\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n","const subcribers = {\r\n    'messages-received': [] as MessagesReceivedSubscriberType[],\r\n    'status-changed': [] as StatusChangedSubscriberType[]\r\n}\r\n\r\nlet ws: WebSocket | null = null\r\ntype EventsNamesType = 'messages-received' | 'status-changed'\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChannel, 3000)\r\n}\r\nconst messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data)\r\n    subcribers['messages-received'].forEach(s => s(newMessages))\r\n}\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n    console.error('REFRESH PAGE')\r\n}\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\nconst notifySubscribersAboutStatus = (status: StatusType) => {\r\n    subcribers['status-changed'].forEach(s => s(status))\r\n}\r\n\r\nfunction createChannel() {\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\n\r\nexport const chatAPI = {\r\n    start() {\r\n        createChannel()\r\n    },\r\n    stop() {\r\n        subcribers['messages-received'] = []\r\n        subcribers['status-changed'] = []\r\n        cleanUp()\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subcribers[eventName].push(callback)\r\n        return () => {\r\n            // @ts-ignore\r\n            subcribers[eventName] = subcribers[eventName].filter(s => s !== callback)\r\n        }\r\n    },\r\n    unsubscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\r\n        // @ts-ignore\r\n        subcribers[eventName] = subcribers[eventName].filter(s => s !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    }\r\n}\r\n\r\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void\r\ntype StatusChangedSubscriberType = (status: StatusType) => void\r\n\r\nexport type ChatMessageAPIType = {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\nexport type StatusType = 'pending' | 'ready' | 'error'\r\n","\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {chatAPI, ChatMessageAPIType, StatusType} from \"../api/chat-api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from 'uuid'\r\n\r\n\r\n\r\n\r\ntype ChatMessageType = ChatMessageAPIType & {id: string}\r\n\r\n\r\nlet initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as StatusType\r\n\r\n};\r\n\r\n\r\n\r\n\r\nconst chatReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/chat/MESSAGES_RECEVIED':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, ...action.payload.messages.map( m => ({...m, id: v1() }))]\r\n                    .filter((m, index, array) => index >= array.length - 100)\r\n            }\r\n        case 'SN/chat/STATUS_CHANGED':\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const actions = {\r\n    messagesReceived: (messages: ChatMessageAPIType[]) => ({\r\n        type: 'SN/chat/MESSAGES_RECEVIED', payload: {messages}\r\n    } as const),\r\n    statusChanged: (status: StatusType) => ({\r\n        type: 'SN/chat/STATUS_CHANGED', payload: {status}\r\n    } as const)\r\n}\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(actions.messagesReceived(messages))\r\n        }\r\n    }\r\n    return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(actions.statusChanged(status))\r\n        }\r\n    }\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening  = ():ThunkType => async (dispatch) => {\r\n    chatAPI.start()\r\n    chatAPI.subscribe('messages-received',newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n\r\n}\r\n\r\nexport const stopMessagesListening  = ():ThunkType => async (dispatch) => {\r\n    chatAPI.unsubscribe('messages-received',newMessageHandlerCreator(dispatch))\r\n    chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    chatAPI.stop()\r\n}\r\n\r\nexport const sendMessages= (message:string):ThunkType => async (dispatch) => {\r\n    chatAPI.sendMessage(message)\r\n}\r\n\r\n\r\n\r\n\r\nexport default chatReducer;\r\n\r\nexport type  initialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Ibmq\",\"selectedPage\":\"users_selectedPage__2B7XU\"};","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createSelector} from \"reselect\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nconst getUsersSelector = (state:AppStateType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state:AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state:AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state:AppStateType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state:AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state:AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const  getUsersFilter  = (state:AppStateType)=>{\r\n    return state.usersPage.filter\r\n}\r\n\r\nexport const countSomethingDifficult = (state:AppStateType) => {\r\n    debugger\r\n    //for... math... big arrays\r\n    let count = 23;\r\n    return count;\r\n}","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\ntype PropsType = {\r\n    totalItemsCount:number\r\n    pageSize:number\r\n    currentPage:number\r\n    onPageChanged:(pageNumber:number)=> void\r\n    portionSize?:number\r\n}\r\n\r\nlet Paginator: React.FC<PropsType> = ({totalItemsCount,\r\n                                      pageSize,\r\n                                      currentPage,\r\n                                      onPageChanged,\r\n                                      portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages: Array<number> = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserType} from '../../Types/types';\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n                <span>\r\n                    <div>\r\n                       <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                             className={styles.userPhoto}/>\r\n                       </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          unfollow(user.id)\r\n                                      }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {\r\n                                          follow(user.id)\r\n                                      }}>\r\n                                Follow</button>}\r\n\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>)\r\n}\r\n\r\nexport default User;\r\n","import {Field, Form, Formik} from 'formik'\r\nimport React from 'react'\r\nimport {FilterType} from '../../redux/users-reducer'\r\nimport {useSelector} from 'react-redux'\r\nimport {getUsersFilter} from '../../redux/users-selectors'\r\n\r\nconst usersSearchFormValidate = (values: any) => {\r\n    const errors = {}\r\n    return errors\r\n}\r\n\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: FriendFormType\r\n}\r\n\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n    const filter = useSelector(getUsersFilter)\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n            enableReinitialize\r\n            initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n            validate={usersSearchFormValidate}\r\n            onSubmit={submit}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form>\r\n                    <Field type=\"text\" name=\"term\"/>\r\n\r\n                    <Field name=\"friend\" as=\"select\">\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        Find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n})\r\n","\r\n\r\n\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}\r\n","import {GetItemsType, instance, APIResponseType} from './api';\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10, term: string = '', friend: null | boolean = null) {\r\n        return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`) )\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>\r\n    }\r\n}\r\n","import {updateObjectInArray} from \"../utils/object-helpers\";\r\nimport {UserType} from '../Types/types';\r\nimport {BaseThunkType, InferActionsTypes} from './redux-store';\r\nimport {Dispatch} from 'redux';\r\nimport {usersAPI} from '../api/users-api';\r\nimport {APIResponseType} from \"../api/api\";\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>, //array of users ids\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n};\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialState => {\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case 'SN/USERS/SET_USERS': {\r\n            return {...state, users: action.users}\r\n        }\r\n        case 'SN/USERS/SET_CURRENT_PAGE': {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT': {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case 'SN/USERS/TOGGLE_IS_FETCHING': {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case 'SN/USERS/SET_FILTER': {\r\n            return {...state, filter: action.payload}\r\n        }\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    followSuccess: (userId: number) => ({type: 'SN/USERS/FOLLOW', userId} as const),\r\n    unfollowSuccess: (userId: number) => ({type: 'SN/USERS/UNFOLLOW', userId} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', currentPage} as const),\r\n    setFilter: (filter:FilterType) => ({type: 'SN/USERS/SET_FILTER', payload: filter } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'SN/USERS/SET_TOTAL_USERS_COUNT',\r\n        count: totalUsersCount\r\n    } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FETCHING',\r\n        isFetching\r\n    } as const),\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const)\r\n}\r\n\r\nexport const requestUsers = (page: number,\r\n                             pageSize: number, filter:FilterType): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true));\r\n        dispatch(actions.setCurrentPage(page));\r\n        dispatch(actions.setFilter(filter));\r\n\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend);\r\n        dispatch(actions.toggleIsFetching(false));\r\n        dispatch(actions.setUsers(data.items));\r\n        dispatch(actions.setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>,\r\n                                   userId: number,\r\n                                   apiMethod: (userId:number)=> Promise<APIResponseType>, actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(actions.toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(actions.toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n      await  _followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), actions.followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n      await  _followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nexport type InitialState = typeof initialState;\r\nexport type FilterType = typeof initialState.filter;\r\n\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n","import React, {FC, useEffect} from 'react'\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport User from './User'\r\nimport {UsersSearchForm} from './UsersSearchForm'\r\nimport {FilterType, requestUsers} from '../../redux/users-reducer'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from '../../redux/users-selectors'\r\nimport {useHistory} from 'react-router-dom'\r\nimport * as queryString from 'querystring'\r\n\r\ntype PropsType = {}\r\n\r\ntype QueryParamsType = { term?: string; page?: string; friend?: string }\r\nexport const Users: FC<PropsType> = (props) => {\r\n\r\n    const users = useSelector(getUsers)\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const pageSize = useSelector(getPageSize)\r\n    const filter = useSelector(getUsersFilter)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        const parsed = queryString.parse(history.location.search.substr(1)) as QueryParamsType\r\n\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsed.page) actualPage = Number(parsed.page)\r\n\r\n\r\n        if (!!parsed.term) actualFilter = {...actualFilter, term: parsed.term as string}\r\n\r\n        switch(parsed.friend) {\r\n            case \"null\":\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break;\r\n            case \"true\":\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break;\r\n            case \"false\":\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break;\r\n        }\r\n\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const query: QueryParamsType = {}\r\n\r\n        if (!!filter.term) query.term = filter.term\r\n        if (filter.friend !== null) query.friend = String(filter.friend)\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n\r\n        history.push({\r\n            pathname: '/users',\r\n            search: queryString.stringify(query)\r\n        })\r\n    }, [filter, currentPage])\r\n\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter))\r\n    }\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n    const follow = (userId: number) => {\r\n        dispatch(follow(userId));\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollow(userId));\r\n    }\r\n\r\n    return <div>\r\n\r\n        <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={unfollow}\r\n                                     follow={follow}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport {FilterType} from '../../redux/users-reducer';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {getIsFetching} from \"../../redux/users-selectors\";\r\nimport {UserType} from '../../Types/types';\r\nimport {Users} from \"./Users\";\r\n\r\n\r\n\r\n\r\n\r\ntype UsersPagePropsType = {\r\n    pageTitle: string\r\n}\r\n\r\nexport const UsersPage:React.FC<UsersPagePropsType> = (props)=>{\r\n    const isFetching = useSelector(getIsFetching)\r\n\r\n    return  ( <>\r\n         <h2>{props.pageTitle}</h2>\r\n         {isFetching? <Preloader/> : null}\r\n         <Users/>\r\n     </>)\r\n }\r\n\r\n\r\n\r\n\r\n\r\n","import {instance, APIResponseType, resultCodesEnum, resultCodesForCapctha} from \"./api\";\r\n\r\n\r\ntype MeResponseDataType = {\r\n    id:number\r\n        email:string\r\n        login:string\r\n\r\n}\r\n\r\ntype LoginMeResponseDataType = {\r\n    userId:number\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data);\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<APIResponseType<LoginMeResponseDataType,resultCodesEnum |resultCodesForCapctha>>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        }).then(res => res.data);\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","import {instance} from \"./api\";\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url:string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(res=> res.data);\r\n    }\r\n}","import {resultCodesEnum, resultCodesForCapctha} from \"../api/api\";\r\nimport {authAPI} from \"../api/auth-api\";\r\nimport {securityAPI} from \"../api/security-api\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null as null | number,\r\n    email: null as null | string,\r\n    login: null as null | string,\r\n    isAuth: false as false | boolean,\r\n    captchaUrl:null as null | string\r\n};\r\n\r\n\r\n\r\n\r\nconst authReducer = (state = initialState, action:ActionsTypes):initialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/auth/SET_USER_DATA':\r\n        case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setAuthUserData : (userId: number | null, email: string | null, login:string | null, isAuth:boolean) => ({\r\n        type: 'SN/auth/SET_USER_DATA', payload:\r\n            {userId, email, login, isAuth}\r\n    }) as const,\r\n    getCaptchaUrlSuccess : (captchaUrl:string) => ({\r\n        type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}\r\n    }) as const\r\n\r\n}\r\n\r\nexport const getAuthUserData = ():ThunkType => async (dispatch) => {\r\n    let meData = await authAPI.me();\r\n    if (meData.resultCode === resultCodesEnum.Success) {\r\n        let {id, login, email} = meData.data;\r\n        dispatch(actions.setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email:string, password:string, rememberMe:boolean, captcha:string):ThunkType => async (dispatch) => {\r\n    let loginData = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (loginData.resultCode === resultCodesEnum.Success) {\r\n        // success, get auth data\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (loginData.resultCode === resultCodesForCapctha.CaptchaIsRequired) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n    }}\r\nexport const getCaptchaUrl = ():ThunkType => async (dispatch) => {\r\n    const data = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = data.url;\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\n\r\n\r\nexport const logout = ():ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actions.setAuthUserData(null, null, null, false));\r\n    }\r\n    }\r\n\r\n\r\nexport default authReducer;\r\n\r\nexport type  initialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>","let initialState = {};\r\ntype InitialStateType = typeof initialState\r\n\r\nconst sidebarReducer = (state = initialState, action:any):InitialStateType => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\nimport {InferActionsTypes} from \"./redux-store\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet initialState= {\r\n    initialized: false,\r\n    errorText: null as string | null\r\n};\r\nexport type initialStateType =typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof  actions>\r\n\r\nconst appReducer = (state = initialState, action: ActionsType):initialStateType => {\r\n    switch (action.type) {\r\n        case 'INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        case 'ERROR_SUCCESS':\r\n            return {\r\n                ...state,\r\n                errorText:action.textError\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n export const actions = {\r\n     initializedSuccess:() => ({type: 'INITIALIZED_SUCCESS'})as const,\r\n     errorSucces: (textError:any)=>({type:'ERROR_SUCCESS',textError}) as const\r\n }\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const initializeApp = () => (dispatch:any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(actions.initializedSuccess());\r\n        });\r\n}\r\n\r\nexport const error = (textError:string) => (dispatch:any) => {\r\n    dispatch(actions.errorSucces(textError))\r\n    const SetError =()=>{return dispatch(actions.errorSucces(null))}\r\n    setTimeout(SetError,2000)}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default appReducer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\nimport chatReducer from \"./chat-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    chat:chatReducer\r\n});\r\n\r\ntype rootReducerType =  typeof rootReducer;\r\nexport type AppStateType = ReturnType<rootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\n\r\nexport type BaseThunkType<A extends  Action,R = Promise<void>> = ThunkAction<R, AppStateType,unknown, A>\r\n\r\n\r\n\r\n\r\n\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\n\r\nexport default store;","import {InjectedFormikProps, useFormik} from 'formik'\r\nimport React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { login } from '../../redux/auth-reducer'\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\n\r\nconst Login  = (props) => {\r\n\r\n    const initialValues = {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false,\r\n        captcha: ''\r\n    }\r\n\r\n    const onSubmit = values => {\r\n        props.login (formik.values.email, formik.values.password, formik.values.rememberMe,formik.values.captcha)\r\n    }\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        onSubmit,\r\n\r\n    })\r\n\r\n\r\n\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <form onSubmit={formik.handleSubmit}>\r\n\r\n\r\n\r\n            <div>\r\n                <input value={formik.values.email} onChange={formik.handleChange} type = 'email' name='email' placeholder='Email'/><label>login</label>\r\n\r\n            </div>\r\n            <div>\r\n                <input value={formik.values.password} onChange={formik.handleChange} type = 'password' name='password' placeholder='Password'/><label>password</label>\r\n            </div>\r\n            <div>\r\n                <input value={formik.values.rememberMe} onChange={formik.handleChange} name='rememberMe' type=\"checkbox\"/>remember me\r\n            </div>\r\n            <img src={props.captchaUrl}/>\r\n            <div>\r\n                <div>\r\n                    <input value={formik.values.captcha} onChange={formik.handleChange} name='captcha' type=\"text\"/>captcha\r\n                </div>\r\n                <button type='submit'>Login</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl:state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n","import React from \"react\"\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n    return (props: WCP) => {\r\n        return <React.Suspense fallback={<div>loading...</div>} >\r\n            <WrappedComponent {...props} />\r\n        </React.Suspense>\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nconst NotFound = (props) =>\r\n    <div>\r\n        <h3>{props.errorText}</h3>\r\n        <p>We are sorry but the page you are looking for does not exist.</p>\r\n    </div>\r\n\r\nexport default NotFound","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const selectIsAuth = (state:AppStateType) => {\r\n    return state.auth.isAuth;\r\n}\r\n\r\n\r\nexport const selectCurrentUserLogin = (state:AppStateType) => {\r\n    return state.auth.login;\r\n}\r\n\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {Avatar, Button, Col, Layout, Menu, Row} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectCurrentUserLogin, selectIsAuth} from \"../../redux/auth-selectors\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nexport type MapPropsType = {\r\n}\r\nexport type DispatchPropsType = {\r\n}\r\n\r\n export const Header: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n\r\n     const isAuth = useSelector(selectIsAuth)\r\n     const login = useSelector(selectCurrentUserLogin)\r\n     const dispatch = useDispatch()\r\n     const logoutCollBack = ()=>{\r\n         dispatch(logout())\r\n     }\r\n\r\n    const { Header } = Layout;\r\n\r\n    return    <Header className=\"header\">\r\n        <Row>\r\n            <Col span={18}> <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\r\n                <Menu.Item key=\"1\"><Link to=\"/users\" ></Link></Menu.Item>\r\n            </Menu></Col>\r\n\r\n                {isAuth\r\n                    ?<><Col span={1}>\r\n                        <Avatar alt={login || ''} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />}/>\r\n                    </Col>\r\n                        <Col span={5}>\r\n                          <Button onClick={logoutCollBack}>Log out</Button> </Col></>\r\n\r\n                    : <Col span={6}><Link to={'/login'}>Login</Link>  </Col>}\r\n\r\n\r\n        </Row>\r\n\r\n\r\n    </Header>\r\n\r\n\r\n    // <header className={s.header}>\r\n    //     <img src='https://placepic.ru/wp-content/uploads/2019/04/744667-male-lion-faces-wallpaper-2048x1423-for-meizu-1024x711.jpg'/>\r\n    //\r\n    //     <div className={s.loginBlock}>\r\n    //         { props.isAuth\r\n    //             ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\r\n    //             : <NavLink to={'/login'}>Login</NavLink> }\r\n    //     </div>\r\n    // </header>\r\n}\r\n\r\n","import React, {Component} from 'react';\nimport './App.css';\nimport {BrowserRouter, Link, NavLink, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport {UsersPage} from \"./components/Users/UsersContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {error, initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store, {AppStateType} from \"./redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport NotFound from \"./components/common/404/error404\";\nimport 'antd/dist/antd.css';\n\nimport {Layout, Menu, Breadcrumb, Avatar, Row, Col} from 'antd';\nimport { UserOutlined, LaptopOutlined, NotificationOutlined } from '@ant-design/icons';\nimport {Header} from \"./components/Header/Header\";\nconst { SubMenu } = Menu;\nconst {  Content, Footer, Sider } = Layout;\n\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst ChatPageContainer = React.lazy(() => import('./Pages/Chat/ChatPage'));\n\n\ntype MapPropsType = ReturnType<typeof mapStateToProps>\ntype DispatchPropsType = {\n    initializeApp: () => void\n    error:any\n\n}\n\nconst SuspendedDialogs = withSuspense(DialogsContainer);\nconst SuspendedProfile = withSuspense(ProfileContainer);\nconst SuspendedPageChat = withSuspense(ChatPageContainer);\n\n\nclass App extends Component<MapPropsType & DispatchPropsType> {\n    catchAllUnhandledErrors = (PromiseRejectionEvent:any) => {\n        this.props.error(`${PromiseRejectionEvent.reason}`)\n    }\n    componentDidMount() {\n        this.props.initializeApp();\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        if (this.props.errorText!=null){\n           return <NotFound errorText={this.props.errorText} />\n        }\n\n        return (\n            <Layout>\n            <Header/>\n\n                <Content style={{ padding: '0 50px' }}>\n                    <Breadcrumb style={{ margin: '16px 0' }}>\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\n                        <Breadcrumb.Item>List</Breadcrumb.Item>\n                        <Breadcrumb.Item>App</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\n                        <Sider className=\"site-layout-background\" width={200}>\n                            <Menu\n                                mode=\"inline\"\n                                //defaultSelectedKeys={['1']}\n                                //defaultOpenKeys={['sub1']}\n                                style={{ height: '100%' }}\n                            >\n\n\n\n\n\n                                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My profile\">\n                                    <Menu.Item key=\"1\"><Link to=\"/profile\" >Profile</Link></Menu.Item>\n                                    <Menu.Item key=\"2\"><Link to='/dialogs' >Messages</Link></Menu.Item>\n                                    <Menu.Item key=\"3\"><Link to='/chat' >Chat</Link></Menu.Item>\n                                    <Menu.Item key=\"4\">option4</Menu.Item>\n                                </SubMenu>\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Users\">\n                                    <Menu.Item key=\"5\"><Link to=\"/users\" >Users</Link></Menu.Item>\n                                    <Menu.Item key=\"6\">option6</Menu.Item>\n                                    <Menu.Item key=\"7\">option7</Menu.Item>\n                                    <Menu.Item key=\"8\">option8</Menu.Item>\n                                </SubMenu>\n                                <SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"subnav 3\">\n                                    <Menu.Item key=\"9\">option9</Menu.Item>\n                                    <Menu.Item key=\"10\">option10</Menu.Item>\n                                    <Menu.Item key=\"11\">option11</Menu.Item>\n                                    <Menu.Item key=\"12\">option12</Menu.Item>\n                                </SubMenu>\n                            </Menu>\n                        </Sider>\n                        <Content style={{ padding: '0 24px', minHeight: 280 }}><Switch>\n                                        <Route exact path='/'\n                                            render={() => <Redirect to={\"/profile\"}/>}/>\n\n                                    <Route path='/dialogs'\n                                            render={() => <SuspendedDialogs /> }/>\n\n                                     <Route path='/profile/:userId?'\n                                            render={() => <SuspendedProfile /> }/>\n\n                                     <Route path='/users'\n                                            render={() => <UsersPage pageTitle={\"\"}/>}/>\n\n                                     <Route path='/login'\n                                          render={() => <LoginPage/>}/>\n\n                                      <Route path='/chat'\n                                            render={() => <SuspendedPageChat/>}/>\n\n                                    <Route path='*'\n                                         render={() => <div>404 NOT FOUND\n                                          </div>}/>\n\n                                 </Switch>\n                        </Content>\n                    </Layout>\n                </Content>\n                <Footer style={{ textAlign: 'center' }}>  2021</Footer>\n            </Layout>\n            // <div className='app-wrapper'>\n            //     <HeaderContainer/>\n            //     <Navbar/>\n            //     <div className='app-wrapper-content'>\n            //         <Switch>\n            //             <Route exact path='/'\n            //                    render={() => <Redirect to={\"/profile\"}/>}/>\n            //\n            //             <Route path='/dialogs'\n            //                    render={() => <SuspendedDialogs /> }/>\n            //\n            //             <Route path='/profile/:userId?'\n            //                    render={() => <SuspendedProfile /> }/>\n            //\n            //             <Route path='/users'\n            //                    render={() => <UsersPage pageTitle={\"\"}/>}/>\n            //\n            //             <Route path='/login'\n            //                    render={() => <LoginPage/>}/>\n            //\n            //             <Route path='*'\n            //                    render={() => <div>404 NOT FOUND\n            //                    </div>}/>\n            //         </Switch>\n            //\n            //     </div>\n            // </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    initialized: state.app.initialized,\n    errorText: state.app.errorText\n})\n\nlet AppContainer = compose<React.ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeApp,error}))(App);\n\nconst SamuraiJSApp: React.FC = () => {\n    return <BrowserRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SamuraiJSApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(\n<SamuraiJSApp/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\r\nimport {UserType} from \"../Types/types\";\r\n\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:     {\r\n        \"API-KEY\": \"fe43f864-7186-466f-88ee-13b781ec408f\"\r\n    }\r\n});\r\n\r\n\r\nexport enum resultCodesEnum  {\r\n    Success = 0,\r\n    Error=1,\r\n}\r\nexport enum resultCodesForCapctha {\r\n    CaptchaIsRequired= 10\r\n}\r\n\r\nexport type  GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount:number\r\n    error:string | null\r\n}\r\nexport type APIResponseType<D = {}, RC = resultCodesEnum > = {\r\n    data: D\r\n    messages: Array<string>\r\n    resultCode: RC\r\n}","export default __webpack_public_path__ + \"static/media/preloader.5788b05c.svg\";","import React from 'react';\r\nimport preloader from \"../../../assets/images/preloader.svg\";\r\n\r\ntype PropsType = {\r\n}\r\n\r\nlet Preloader: React.FC = () => {\r\n    return <div  style={ { backgroundColor: 'white' } }>\r\n        <img src={preloader} />\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3WY-C\",\"pageNumber\":\"Paginator_pageNumber__2dqUV\",\"selectedPage\":\"Paginator_selectedPage__3YUE0\"};","import {PhotosType, ProfileType} from \"../Types/types\";\r\nimport {instance, APIResponseType} from \"./api\";\r\n\r\ntype SavePhotosResponseDataType = {\r\n   photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/` + userId).then(res=>res.data);\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/` + userId).then(res=>res.data);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status`, {status: status}).then(res=>res.data);\r\n    },\r\n    savePhoto(photoFile: any) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put<APIResponseType<SavePhotosResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res=>res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile).then(res=>res.data);\r\n    }\r\n}","import {PhotosType, PostType, ProfileType} from \"../Types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {AppStateType, BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\nimport {usersAPI} from \"../api/users-api\";\r\nimport {profileAPI} from \"../api/profile-api\";\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n        {id: 3, message: 'Blabla', likesCount: 11},\r\n        {id: 4, message: 'Dada', likesCount: 11}\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: \"\",\r\n    isFetchingSave: false as boolean\r\n};\r\n\r\n\r\n\r\nconst profileReducer = (state = initialState, action:ActionsTypes):initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD-POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case 'SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case 'SET_USER_PROFILE': {\r\n            return {...state, profile: action.profile}\r\n        }\r\n\r\n        case 'DELETE_POST':\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        case \"SAVE_PHOTO_SUCCESS\":\r\n            return {...state, profile: {...state.profile, photos: action.photos}as ProfileType }\r\n        case \"TOGGLE_IS_FETCHING\":\r\n            return {...state, isFetchingSave: action.isFetching}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport  const  actions = {\r\n     addPostActionCreator:(newPostText:string) => ({type: 'ADD-POST', newPostText})as const,\r\n     setUserProfile: (profile:ProfileType) => ({type: 'SET_USER_PROFILE', profile})as const,\r\n     setStatus :(status:string) => ({type: 'SET_STATUS', status})as const,\r\n     deletePost: (postId:number) => ({type: 'DELETE_POST', postId})as const,\r\n     savePhotoSuccess: (photos:PhotosType) => ({type: \"SAVE_PHOTO_SUCCESS\", photos})as const,\r\n     isFetchingTogle: (isFetching:boolean) =>({type: \"TOGGLE_IS_FETCHING\" , isFetching }) as const,\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const getUserProfile = (userId:number):ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId);\r\n    dispatch(actions.setUserProfile(data));\r\n}\r\n\r\nexport const getStatus = (userId:number):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setStatus(data));\r\n}\r\n\r\nexport const updateStatus = (status:string):ThunkType => async (dispatch) => {\r\n    let data = await profileAPI.updateStatus(status);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status));\r\n    }\r\n}\r\nexport const savePhoto = (file:File):ThunkType => async (dispatch)=>{\r\n    dispatch(actions.isFetchingTogle(true))\r\n    let data = await profileAPI.savePhoto(file);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.savePhotoSuccess(data.data.photos));\r\n    }\r\n    dispatch(actions.isFetchingTogle(false))\r\n}\r\n\r\nexport const saveProfile = (profile:ProfileType):ThunkType => async (dispatch,getState)=>{\r\n    const userId = getState().auth.userId;\r\n    let data = await profileAPI.saveProfile(profile);\r\n    if (data.resultCode === 0) {\r\n        if (userId !=null){dispatch(getUserProfile(userId))}\r\n        else {\r\n            throw new Error(\"userId null\")\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\nexport default profileReducer;\r\n\r\nexport type initialStateType = typeof initialState\r\ntype ActionsTypes = InferActionsTypes<typeof  actions>\r\ntype ThunkType = BaseThunkType<ActionsTypes>"]}}